{"ast":null,"code":"/**\n * Copyright 2023 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as chrome from './chrome.js';\nimport * as chromedriver from './chromedriver.js';\nimport * as chromium from './chromium.js';\nimport * as firefox from './firefox.js';\nimport { Browser, BrowserPlatform, BrowserTag, ChromeReleaseChannel } from './types.js';\nexport const downloadUrls = {\n  [Browser.CHROMEDRIVER]: chromedriver.resolveDownloadUrl,\n  [Browser.CHROME]: chrome.resolveDownloadUrl,\n  [Browser.CHROMIUM]: chromium.resolveDownloadUrl,\n  [Browser.FIREFOX]: firefox.resolveDownloadUrl\n};\nexport const downloadPaths = {\n  [Browser.CHROMEDRIVER]: chromedriver.resolveDownloadPath,\n  [Browser.CHROME]: chrome.resolveDownloadPath,\n  [Browser.CHROMIUM]: chromium.resolveDownloadPath,\n  [Browser.FIREFOX]: firefox.resolveDownloadPath\n};\nexport const executablePathByBrowser = {\n  [Browser.CHROMEDRIVER]: chromedriver.relativeExecutablePath,\n  [Browser.CHROME]: chrome.relativeExecutablePath,\n  [Browser.CHROMIUM]: chromium.relativeExecutablePath,\n  [Browser.FIREFOX]: firefox.relativeExecutablePath\n};\nexport { Browser, BrowserPlatform, ChromeReleaseChannel };\n/**\n * @public\n */\nexport async function resolveBuildId(browser, platform, tag) {\n  switch (browser) {\n    case Browser.FIREFOX:\n      switch (tag) {\n        case BrowserTag.LATEST:\n          return await firefox.resolveBuildId('FIREFOX_NIGHTLY');\n      }\n    case Browser.CHROME:\n      switch (tag) {\n        case BrowserTag.LATEST:\n          // In CfT beta is the latest version.\n          return await chrome.resolveBuildId(platform, 'beta');\n      }\n    case Browser.CHROMEDRIVER:\n      switch (tag) {\n        case BrowserTag.LATEST:\n          return await chromedriver.resolveBuildId('latest');\n      }\n    case Browser.CHROMIUM:\n      switch (tag) {\n        case BrowserTag.LATEST:\n          return await chromium.resolveBuildId(platform, 'latest');\n      }\n  }\n  // We assume the tag is the buildId if it didn't match any keywords.\n  return tag;\n}\n/**\n * @public\n */\nexport async function createProfile(browser, opts) {\n  switch (browser) {\n    case Browser.FIREFOX:\n      return await firefox.createProfile(opts);\n    case Browser.CHROME:\n    case Browser.CHROMIUM:\n      throw new Error(`Profile creation is not support for ${browser} yet`);\n  }\n}\n/**\n * @public\n */\nexport function resolveSystemExecutablePath(browser, platform, channel) {\n  switch (browser) {\n    case Browser.CHROMEDRIVER:\n    case Browser.FIREFOX:\n      throw new Error(`System browser detection is not supported for ${browser} yet.`);\n    case Browser.CHROME:\n      return chromium.resolveSystemExecutablePath(platform, channel);\n    case Browser.CHROMIUM:\n      return chrome.resolveSystemExecutablePath(platform, channel);\n  }\n}","map":{"version":3,"names":["chrome","chromedriver","chromium","firefox","Browser","BrowserPlatform","BrowserTag","ChromeReleaseChannel","downloadUrls","CHROMEDRIVER","resolveDownloadUrl","CHROME","CHROMIUM","FIREFOX","downloadPaths","resolveDownloadPath","executablePathByBrowser","relativeExecutablePath","resolveBuildId","browser","platform","tag","LATEST","createProfile","opts","Error","resolveSystemExecutablePath","channel"],"sources":["../../../src/browser-data/browser-data.ts"],"sourcesContent":[null],"mappings":"AAAA;;;;;;;;;;;;;;;AAgBA,OAAO,KAAKA,MAAM,MAAM,aAAa;AACrC,OAAO,KAAKC,YAAY,MAAM,mBAAmB;AACjD,OAAO,KAAKC,QAAQ,MAAM,eAAe;AACzC,OAAO,KAAKC,OAAO,MAAM,cAAc;AACvC,SACEC,OAAO,EACPC,eAAe,EACfC,UAAU,EACVC,oBAAoB,QAEf,YAAY;AAInB,OAAO,MAAMC,YAAY,GAAG;EAC1B,CAACJ,OAAO,CAACK,YAAY,GAAGR,YAAY,CAACS,kBAAkB;EACvD,CAACN,OAAO,CAACO,MAAM,GAAGX,MAAM,CAACU,kBAAkB;EAC3C,CAACN,OAAO,CAACQ,QAAQ,GAAGV,QAAQ,CAACQ,kBAAkB;EAC/C,CAACN,OAAO,CAACS,OAAO,GAAGV,OAAO,CAACO;CAC5B;AAED,OAAO,MAAMI,aAAa,GAAG;EAC3B,CAACV,OAAO,CAACK,YAAY,GAAGR,YAAY,CAACc,mBAAmB;EACxD,CAACX,OAAO,CAACO,MAAM,GAAGX,MAAM,CAACe,mBAAmB;EAC5C,CAACX,OAAO,CAACQ,QAAQ,GAAGV,QAAQ,CAACa,mBAAmB;EAChD,CAACX,OAAO,CAACS,OAAO,GAAGV,OAAO,CAACY;CAC5B;AAED,OAAO,MAAMC,uBAAuB,GAAG;EACrC,CAACZ,OAAO,CAACK,YAAY,GAAGR,YAAY,CAACgB,sBAAsB;EAC3D,CAACb,OAAO,CAACO,MAAM,GAAGX,MAAM,CAACiB,sBAAsB;EAC/C,CAACb,OAAO,CAACQ,QAAQ,GAAGV,QAAQ,CAACe,sBAAsB;EACnD,CAACb,OAAO,CAACS,OAAO,GAAGV,OAAO,CAACc;CAC5B;AAED,SAAQb,OAAO,EAAEC,eAAe,EAAEE,oBAAoB;AAEtD;;;AAGA,OAAO,eAAeW,cAAcA,CAClCC,OAAgB,EAChBC,QAAyB,EACzBC,GAAW;EAEX,QAAQF,OAAO;IACb,KAAKf,OAAO,CAACS,OAAO;MAClB,QAAQQ,GAAiB;QACvB,KAAKf,UAAU,CAACgB,MAAM;UACpB,OAAO,MAAMnB,OAAO,CAACe,cAAc,CAAC,iBAAiB,CAAC;;IAE5D,KAAKd,OAAO,CAACO,MAAM;MACjB,QAAQU,GAAiB;QACvB,KAAKf,UAAU,CAACgB,MAAM;UACpB;UACA,OAAO,MAAMtB,MAAM,CAACkB,cAAc,CAACE,QAAQ,EAAE,MAAM,CAAC;;IAE1D,KAAKhB,OAAO,CAACK,YAAY;MACvB,QAAQY,GAAiB;QACvB,KAAKf,UAAU,CAACgB,MAAM;UACpB,OAAO,MAAMrB,YAAY,CAACiB,cAAc,CAAC,QAAQ,CAAC;;IAExD,KAAKd,OAAO,CAACQ,QAAQ;MACnB,QAAQS,GAAiB;QACvB,KAAKf,UAAU,CAACgB,MAAM;UACpB,OAAO,MAAMpB,QAAQ,CAACgB,cAAc,CAACE,QAAQ,EAAE,QAAQ,CAAC;;;EAGhE;EACA,OAAOC,GAAG;AACZ;AAEA;;;AAGA,OAAO,eAAeE,aAAaA,CACjCJ,OAAgB,EAChBK,IAAoB;EAEpB,QAAQL,OAAO;IACb,KAAKf,OAAO,CAACS,OAAO;MAClB,OAAO,MAAMV,OAAO,CAACoB,aAAa,CAACC,IAAI,CAAC;IAC1C,KAAKpB,OAAO,CAACO,MAAM;IACnB,KAAKP,OAAO,CAACQ,QAAQ;MACnB,MAAM,IAAIa,KAAK,CAAC,uCAAuCN,OAAO,MAAM,CAAC;;AAE3E;AAEA;;;AAGA,OAAM,SAAUO,2BAA2BA,CACzCP,OAAgB,EAChBC,QAAyB,EACzBO,OAA6B;EAE7B,QAAQR,OAAO;IACb,KAAKf,OAAO,CAACK,YAAY;IACzB,KAAKL,OAAO,CAACS,OAAO;MAClB,MAAM,IAAIY,KAAK,CACb,iDAAiDN,OAAO,OAAO,CAChE;IACH,KAAKf,OAAO,CAACO,MAAM;MACjB,OAAOT,QAAQ,CAACwB,2BAA2B,CAACN,QAAQ,EAAEO,OAAO,CAAC;IAChE,KAAKvB,OAAO,CAACQ,QAAQ;MACnB,OAAOZ,MAAM,CAAC0B,2BAA2B,CAACN,QAAQ,EAAEO,OAAO,CAAC;;AAElE"},"metadata":{},"sourceType":"module","externalDependencies":[]}