{"ast":null,"code":"/**\n * Copyright 2022 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _DeviceRequestPrompt_instances, _DeviceRequestPrompt_client, _DeviceRequestPrompt_timeoutSettings, _DeviceRequestPrompt_id, _DeviceRequestPrompt_handled, _DeviceRequestPrompt_updateDevicesHandle, _DeviceRequestPrompt_waitForDevicePromises, _DeviceRequestPrompt_updateDevices, _DeviceRequestPromptManager_instances, _DeviceRequestPromptManager_client, _DeviceRequestPromptManager_timeoutSettings, _DeviceRequestPromptManager_deviceRequestPromptPromises, _DeviceRequestPromptManager_onDeviceRequestPrompted;\nimport { assert } from '../util/assert.js';\nimport { createDeferredPromise } from '../util/DeferredPromise.js';\n/**\n * Device in a request prompt.\n *\n * @public\n */\nexport class DeviceRequestPromptDevice {\n  /**\n   * @internal\n   */\n  constructor(id, name) {\n    this.id = id;\n    this.name = name;\n  }\n}\n/**\n * Device request prompts let you respond to the page requesting for a device\n * through an API like WebBluetooth.\n *\n * @remarks\n * `DeviceRequestPrompt` instances are returned via the\n * {@link Page.waitForDevicePrompt} method.\n *\n * @example\n *\n * ```ts\n * const [deviceRequest] = Promise.all([\n *   page.waitForDevicePrompt(),\n *   page.click('#connect-bluetooth'),\n * ]);\n * await devicePrompt.select(\n *   await devicePrompt.waitForDevice(({name}) => name.includes('My Device'))\n * );\n * ```\n *\n * @public\n */\nexport class DeviceRequestPrompt {\n  /**\n   * @internal\n   */\n  constructor(client, timeoutSettings, firstEvent) {\n    _DeviceRequestPrompt_instances.add(this);\n    _DeviceRequestPrompt_client.set(this, void 0);\n    _DeviceRequestPrompt_timeoutSettings.set(this, void 0);\n    _DeviceRequestPrompt_id.set(this, void 0);\n    _DeviceRequestPrompt_handled.set(this, false);\n    _DeviceRequestPrompt_updateDevicesHandle.set(this, __classPrivateFieldGet(this, _DeviceRequestPrompt_instances, \"m\", _DeviceRequestPrompt_updateDevices).bind(this));\n    _DeviceRequestPrompt_waitForDevicePromises.set(this, new Set());\n    /**\n     * Current list of selectable devices.\n     */\n    this.devices = [];\n    __classPrivateFieldSet(this, _DeviceRequestPrompt_client, client, \"f\");\n    __classPrivateFieldSet(this, _DeviceRequestPrompt_timeoutSettings, timeoutSettings, \"f\");\n    __classPrivateFieldSet(this, _DeviceRequestPrompt_id, firstEvent.id, \"f\");\n    __classPrivateFieldGet(this, _DeviceRequestPrompt_client, \"f\").on('DeviceAccess.deviceRequestPrompted', __classPrivateFieldGet(this, _DeviceRequestPrompt_updateDevicesHandle, \"f\"));\n    __classPrivateFieldGet(this, _DeviceRequestPrompt_client, \"f\").on('Target.detachedFromTarget', () => {\n      __classPrivateFieldSet(this, _DeviceRequestPrompt_client, null, \"f\");\n    });\n    __classPrivateFieldGet(this, _DeviceRequestPrompt_instances, \"m\", _DeviceRequestPrompt_updateDevices).call(this, firstEvent);\n  }\n  /**\n   * Resolve to the first device in the prompt matching a filter.\n   */\n  async waitForDevice(filter, options = {}) {\n    for (const device of this.devices) {\n      if (filter(device)) {\n        return device;\n      }\n    }\n    const {\n      timeout = __classPrivateFieldGet(this, _DeviceRequestPrompt_timeoutSettings, \"f\").timeout()\n    } = options;\n    const promise = createDeferredPromise({\n      message: `Waiting for \\`DeviceRequestPromptDevice\\` failed: ${timeout}ms exceeded`,\n      timeout\n    });\n    const handle = {\n      filter,\n      promise\n    };\n    __classPrivateFieldGet(this, _DeviceRequestPrompt_waitForDevicePromises, \"f\").add(handle);\n    try {\n      return await promise;\n    } finally {\n      __classPrivateFieldGet(this, _DeviceRequestPrompt_waitForDevicePromises, \"f\").delete(handle);\n    }\n  }\n  /**\n   * Select a device in the prompt's list.\n   */\n  async select(device) {\n    assert(__classPrivateFieldGet(this, _DeviceRequestPrompt_client, \"f\") !== null, 'Cannot select device through detached session!');\n    assert(this.devices.includes(device), 'Cannot select unknown device!');\n    assert(!__classPrivateFieldGet(this, _DeviceRequestPrompt_handled, \"f\"), 'Cannot select DeviceRequestPrompt which is already handled!');\n    __classPrivateFieldGet(this, _DeviceRequestPrompt_client, \"f\").off('DeviceAccess.deviceRequestPrompted', __classPrivateFieldGet(this, _DeviceRequestPrompt_updateDevicesHandle, \"f\"));\n    __classPrivateFieldSet(this, _DeviceRequestPrompt_handled, true, \"f\");\n    return __classPrivateFieldGet(this, _DeviceRequestPrompt_client, \"f\").send('DeviceAccess.selectPrompt', {\n      id: __classPrivateFieldGet(this, _DeviceRequestPrompt_id, \"f\"),\n      deviceId: device.id\n    });\n  }\n  /**\n   * Cancel the prompt.\n   */\n  async cancel() {\n    assert(__classPrivateFieldGet(this, _DeviceRequestPrompt_client, \"f\") !== null, 'Cannot cancel prompt through detached session!');\n    assert(!__classPrivateFieldGet(this, _DeviceRequestPrompt_handled, \"f\"), 'Cannot cancel DeviceRequestPrompt which is already handled!');\n    __classPrivateFieldGet(this, _DeviceRequestPrompt_client, \"f\").off('DeviceAccess.deviceRequestPrompted', __classPrivateFieldGet(this, _DeviceRequestPrompt_updateDevicesHandle, \"f\"));\n    __classPrivateFieldSet(this, _DeviceRequestPrompt_handled, true, \"f\");\n    return __classPrivateFieldGet(this, _DeviceRequestPrompt_client, \"f\").send('DeviceAccess.cancelPrompt', {\n      id: __classPrivateFieldGet(this, _DeviceRequestPrompt_id, \"f\")\n    });\n  }\n}\n_DeviceRequestPrompt_client = new WeakMap(), _DeviceRequestPrompt_timeoutSettings = new WeakMap(), _DeviceRequestPrompt_id = new WeakMap(), _DeviceRequestPrompt_handled = new WeakMap(), _DeviceRequestPrompt_updateDevicesHandle = new WeakMap(), _DeviceRequestPrompt_waitForDevicePromises = new WeakMap(), _DeviceRequestPrompt_instances = new WeakSet(), _DeviceRequestPrompt_updateDevices = function _DeviceRequestPrompt_updateDevices(event) {\n  if (event.id !== __classPrivateFieldGet(this, _DeviceRequestPrompt_id, \"f\")) {\n    return;\n  }\n  for (const rawDevice of event.devices) {\n    if (this.devices.some(device => {\n      return device.id === rawDevice.id;\n    })) {\n      continue;\n    }\n    const newDevice = new DeviceRequestPromptDevice(rawDevice.id, rawDevice.name);\n    this.devices.push(newDevice);\n    for (const waitForDevicePromise of __classPrivateFieldGet(this, _DeviceRequestPrompt_waitForDevicePromises, \"f\")) {\n      if (waitForDevicePromise.filter(newDevice)) {\n        waitForDevicePromise.promise.resolve(newDevice);\n      }\n    }\n  }\n};\n/**\n * @internal\n */\nexport class DeviceRequestPromptManager {\n  /**\n   * @internal\n   */\n  constructor(client, timeoutSettings) {\n    _DeviceRequestPromptManager_instances.add(this);\n    _DeviceRequestPromptManager_client.set(this, void 0);\n    _DeviceRequestPromptManager_timeoutSettings.set(this, void 0);\n    _DeviceRequestPromptManager_deviceRequestPromptPromises.set(this, new Set());\n    __classPrivateFieldSet(this, _DeviceRequestPromptManager_client, client, \"f\");\n    __classPrivateFieldSet(this, _DeviceRequestPromptManager_timeoutSettings, timeoutSettings, \"f\");\n    __classPrivateFieldGet(this, _DeviceRequestPromptManager_client, \"f\").on('DeviceAccess.deviceRequestPrompted', event => {\n      __classPrivateFieldGet(this, _DeviceRequestPromptManager_instances, \"m\", _DeviceRequestPromptManager_onDeviceRequestPrompted).call(this, event);\n    });\n    __classPrivateFieldGet(this, _DeviceRequestPromptManager_client, \"f\").on('Target.detachedFromTarget', () => {\n      __classPrivateFieldSet(this, _DeviceRequestPromptManager_client, null, \"f\");\n    });\n  }\n  /**\n   * Wait for device prompt created by an action like calling WebBluetooth's\n   * requestDevice.\n   */\n  async waitForDevicePrompt(options = {}) {\n    assert(__classPrivateFieldGet(this, _DeviceRequestPromptManager_client, \"f\") !== null, 'Cannot wait for device prompt through detached session!');\n    const needsEnable = __classPrivateFieldGet(this, _DeviceRequestPromptManager_deviceRequestPromptPromises, \"f\").size === 0;\n    let enablePromise;\n    if (needsEnable) {\n      enablePromise = __classPrivateFieldGet(this, _DeviceRequestPromptManager_client, \"f\").send('DeviceAccess.enable');\n    }\n    const {\n      timeout = __classPrivateFieldGet(this, _DeviceRequestPromptManager_timeoutSettings, \"f\").timeout()\n    } = options;\n    const promise = createDeferredPromise({\n      message: `Waiting for \\`DeviceRequestPrompt\\` failed: ${timeout}ms exceeded`,\n      timeout\n    });\n    __classPrivateFieldGet(this, _DeviceRequestPromptManager_deviceRequestPromptPromises, \"f\").add(promise);\n    try {\n      const [result] = await Promise.all([promise, enablePromise]);\n      return result;\n    } finally {\n      __classPrivateFieldGet(this, _DeviceRequestPromptManager_deviceRequestPromptPromises, \"f\").delete(promise);\n    }\n  }\n}\n_DeviceRequestPromptManager_client = new WeakMap(), _DeviceRequestPromptManager_timeoutSettings = new WeakMap(), _DeviceRequestPromptManager_deviceRequestPromptPromises = new WeakMap(), _DeviceRequestPromptManager_instances = new WeakSet(), _DeviceRequestPromptManager_onDeviceRequestPrompted = function _DeviceRequestPromptManager_onDeviceRequestPrompted(event) {\n  if (!__classPrivateFieldGet(this, _DeviceRequestPromptManager_deviceRequestPromptPromises, \"f\").size) {\n    return;\n  }\n  assert(__classPrivateFieldGet(this, _DeviceRequestPromptManager_client, \"f\") !== null);\n  const devicePrompt = new DeviceRequestPrompt(__classPrivateFieldGet(this, _DeviceRequestPromptManager_client, \"f\"), __classPrivateFieldGet(this, _DeviceRequestPromptManager_timeoutSettings, \"f\"), event);\n  for (const promise of __classPrivateFieldGet(this, _DeviceRequestPromptManager_deviceRequestPromptPromises, \"f\")) {\n    promise.resolve(devicePrompt);\n  }\n  __classPrivateFieldGet(this, _DeviceRequestPromptManager_deviceRequestPromptPromises, \"f\").clear();\n};","map":{"version":3,"names":["assert","createDeferredPromise","DeviceRequestPromptDevice","constructor","id","name","DeviceRequestPrompt","client","timeoutSettings","firstEvent","_DeviceRequestPrompt_client","set","_DeviceRequestPrompt_timeoutSettings","_DeviceRequestPrompt_id","_DeviceRequestPrompt_handled","_DeviceRequestPrompt_updateDevicesHandle","__classPrivateFieldGet","_DeviceRequestPrompt_instances","_DeviceRequestPrompt_updateDevices","bind","_DeviceRequestPrompt_waitForDevicePromises","Set","devices","__classPrivateFieldSet","on","call","waitForDevice","filter","options","device","timeout","promise","message","handle","add","delete","select","includes","off","send","deviceId","cancel","event","rawDevice","some","newDevice","push","waitForDevicePromise","resolve","DeviceRequestPromptManager","_DeviceRequestPromptManager_client","_DeviceRequestPromptManager_timeoutSettings","_DeviceRequestPromptManager_deviceRequestPromptPromises","_DeviceRequestPromptManager_instances","_DeviceRequestPromptManager_onDeviceRequestPrompted","waitForDevicePrompt","needsEnable","size","enablePromise","result","Promise","all","devicePrompt","clear"],"sources":["../../../../src/common/DeviceRequestPrompt.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}