{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2017 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Callback_id, _Callback_error, _Callback_promise, _Callback_timer, _Callback_label, _CallbackRegistry_callbacks, _CallbackRegistry_idGenerator, _Connection_instances, _Connection_url, _Connection_transport, _Connection_delay, _Connection_timeout, _Connection_sessions, _Connection_closed, _Connection_manuallyAttached, _Connection_callbacks, _Connection_onClose, _CDPSessionImpl_sessionId, _CDPSessionImpl_targetType, _CDPSessionImpl_callbacks, _CDPSessionImpl_connection;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isTargetClosedError = exports.CDPSessionImpl = exports.CDPSession = exports.CDPSessionEmittedEvents = exports.Connection = exports.CallbackRegistry = exports.ConnectionEmittedEvents = void 0;\nconst assert_js_1 = require(\"../util/assert.js\");\nconst util_js_1 = require(\"../util/util.js\");\nconst Debug_js_1 = require(\"./Debug.js\");\nconst Errors_js_1 = require(\"./Errors.js\");\nconst EventEmitter_js_1 = require(\"./EventEmitter.js\");\nconst debugProtocolSend = (0, Debug_js_1.debug)('puppeteer:protocol:SEND ►');\nconst debugProtocolReceive = (0, Debug_js_1.debug)('puppeteer:protocol:RECV ◀');\n/**\n * Internal events that the Connection class emits.\n *\n * @internal\n */\nexports.ConnectionEmittedEvents = {\n  Disconnected: Symbol('Connection.Disconnected')\n};\n/**\n * @internal\n */\nfunction createIncrementalIdGenerator() {\n  let id = 0;\n  return () => {\n    return ++id;\n  };\n}\n/**\n * @internal\n */\nclass Callback {\n  constructor(id, label, timeout) {\n    _Callback_id.set(this, void 0);\n    _Callback_error.set(this, new Errors_js_1.ProtocolError());\n    _Callback_promise.set(this, (0, util_js_1.createDeferredPromise)());\n    _Callback_timer.set(this, void 0);\n    _Callback_label.set(this, void 0);\n    __classPrivateFieldSet(this, _Callback_id, id, \"f\");\n    __classPrivateFieldSet(this, _Callback_label, label, \"f\");\n    if (timeout) {\n      __classPrivateFieldSet(this, _Callback_timer, setTimeout(() => {\n        __classPrivateFieldGet(this, _Callback_promise, \"f\").reject(rewriteError(__classPrivateFieldGet(this, _Callback_error, \"f\"), `${label} timed out. Increase the 'protocolTimeout' setting in launch/connect calls for a higher timeout if needed.`));\n      }, timeout), \"f\");\n    }\n  }\n  resolve(value) {\n    clearTimeout(__classPrivateFieldGet(this, _Callback_timer, \"f\"));\n    __classPrivateFieldGet(this, _Callback_promise, \"f\").resolve(value);\n  }\n  reject(error) {\n    clearTimeout(__classPrivateFieldGet(this, _Callback_timer, \"f\"));\n    __classPrivateFieldGet(this, _Callback_promise, \"f\").reject(error);\n  }\n  get id() {\n    return __classPrivateFieldGet(this, _Callback_id, \"f\");\n  }\n  get promise() {\n    return __classPrivateFieldGet(this, _Callback_promise, \"f\");\n  }\n  get error() {\n    return __classPrivateFieldGet(this, _Callback_error, \"f\");\n  }\n  get label() {\n    return __classPrivateFieldGet(this, _Callback_label, \"f\");\n  }\n}\n_Callback_id = new WeakMap(), _Callback_error = new WeakMap(), _Callback_promise = new WeakMap(), _Callback_timer = new WeakMap(), _Callback_label = new WeakMap();\n/**\n * Manages callbacks and their IDs for the protocol request/response communication.\n *\n * @internal\n */\nclass CallbackRegistry {\n  constructor() {\n    _CallbackRegistry_callbacks.set(this, new Map());\n    _CallbackRegistry_idGenerator.set(this, createIncrementalIdGenerator());\n  }\n  create(label, timeout, request) {\n    const callback = new Callback(__classPrivateFieldGet(this, _CallbackRegistry_idGenerator, \"f\").call(this), label, timeout);\n    __classPrivateFieldGet(this, _CallbackRegistry_callbacks, \"f\").set(callback.id, callback);\n    try {\n      request(callback.id);\n    } catch (error) {\n      // We still throw sync errors synchronously and clean up the scheduled\n      // callback.\n      callback.promise.catch(() => {\n        __classPrivateFieldGet(this, _CallbackRegistry_callbacks, \"f\").delete(callback.id);\n      });\n      callback.reject(error);\n      throw error;\n    }\n    // Must only have sync code up until here.\n    return callback.promise.finally(() => {\n      __classPrivateFieldGet(this, _CallbackRegistry_callbacks, \"f\").delete(callback.id);\n    });\n  }\n  reject(id, message, originalMessage) {\n    const callback = __classPrivateFieldGet(this, _CallbackRegistry_callbacks, \"f\").get(id);\n    if (!callback) {\n      return;\n    }\n    this._reject(callback, message, originalMessage);\n  }\n  _reject(callback, message, originalMessage) {\n    callback.reject(rewriteError(callback.error, `Protocol error (${callback.label}): ${message}`, originalMessage));\n  }\n  resolve(id, value) {\n    const callback = __classPrivateFieldGet(this, _CallbackRegistry_callbacks, \"f\").get(id);\n    if (!callback) {\n      return;\n    }\n    callback.resolve(value);\n  }\n  clear() {\n    for (const callback of __classPrivateFieldGet(this, _CallbackRegistry_callbacks, \"f\").values()) {\n      // TODO: probably we can accept error messages as params.\n      this._reject(callback, 'Target closed');\n    }\n    __classPrivateFieldGet(this, _CallbackRegistry_callbacks, \"f\").clear();\n  }\n}\nexports.CallbackRegistry = CallbackRegistry;\n_CallbackRegistry_callbacks = new WeakMap(), _CallbackRegistry_idGenerator = new WeakMap();\n/**\n * @public\n */\nclass Connection extends EventEmitter_js_1.EventEmitter {\n  constructor(url, transport, delay = 0, timeout) {\n    super();\n    _Connection_instances.add(this);\n    _Connection_url.set(this, void 0);\n    _Connection_transport.set(this, void 0);\n    _Connection_delay.set(this, void 0);\n    _Connection_timeout.set(this, void 0);\n    _Connection_sessions.set(this, new Map());\n    _Connection_closed.set(this, false);\n    _Connection_manuallyAttached.set(this, new Set());\n    _Connection_callbacks.set(this, new CallbackRegistry());\n    __classPrivateFieldSet(this, _Connection_url, url, \"f\");\n    __classPrivateFieldSet(this, _Connection_delay, delay, \"f\");\n    __classPrivateFieldSet(this, _Connection_timeout, timeout !== null && timeout !== void 0 ? timeout : 180000, \"f\");\n    __classPrivateFieldSet(this, _Connection_transport, transport, \"f\");\n    __classPrivateFieldGet(this, _Connection_transport, \"f\").onmessage = this.onMessage.bind(this);\n    __classPrivateFieldGet(this, _Connection_transport, \"f\").onclose = __classPrivateFieldGet(this, _Connection_instances, \"m\", _Connection_onClose).bind(this);\n  }\n  static fromSession(session) {\n    return session.connection();\n  }\n  get timeout() {\n    return __classPrivateFieldGet(this, _Connection_timeout, \"f\");\n  }\n  /**\n   * @internal\n   */\n  get _closed() {\n    return __classPrivateFieldGet(this, _Connection_closed, \"f\");\n  }\n  /**\n   * @internal\n   */\n  get _sessions() {\n    return __classPrivateFieldGet(this, _Connection_sessions, \"f\");\n  }\n  /**\n   * @param sessionId - The session id\n   * @returns The current CDP session if it exists\n   */\n  session(sessionId) {\n    return __classPrivateFieldGet(this, _Connection_sessions, \"f\").get(sessionId) || null;\n  }\n  url() {\n    return __classPrivateFieldGet(this, _Connection_url, \"f\");\n  }\n  send(method, ...paramArgs) {\n    // There is only ever 1 param arg passed, but the Protocol defines it as an\n    // array of 0 or 1 items See this comment:\n    // https://github.com/ChromeDevTools/devtools-protocol/pull/113#issuecomment-412603285\n    // which explains why the protocol defines the params this way for better\n    // type-inference.\n    // So now we check if there are any params or not and deal with them accordingly.\n    const params = paramArgs.length ? paramArgs[0] : undefined;\n    return this._rawSend(__classPrivateFieldGet(this, _Connection_callbacks, \"f\"), method, params);\n  }\n  /**\n   * @internal\n   */\n  _rawSend(callbacks, method, params, sessionId) {\n    return callbacks.create(method, __classPrivateFieldGet(this, _Connection_timeout, \"f\"), id => {\n      const stringifiedMessage = JSON.stringify({\n        method,\n        params,\n        id,\n        sessionId\n      });\n      debugProtocolSend(stringifiedMessage);\n      __classPrivateFieldGet(this, _Connection_transport, \"f\").send(stringifiedMessage);\n    });\n  }\n  /**\n   * @internal\n   */\n  async closeBrowser() {\n    await this.send('Browser.close');\n  }\n  /**\n   * @internal\n   */\n  async onMessage(message) {\n    if (__classPrivateFieldGet(this, _Connection_delay, \"f\")) {\n      await new Promise(f => {\n        return setTimeout(f, __classPrivateFieldGet(this, _Connection_delay, \"f\"));\n      });\n    }\n    debugProtocolReceive(message);\n    const object = JSON.parse(message);\n    if (object.method === 'Target.attachedToTarget') {\n      const sessionId = object.params.sessionId;\n      const session = new CDPSessionImpl(this, object.params.targetInfo.type, sessionId);\n      __classPrivateFieldGet(this, _Connection_sessions, \"f\").set(sessionId, session);\n      this.emit('sessionattached', session);\n      const parentSession = __classPrivateFieldGet(this, _Connection_sessions, \"f\").get(object.sessionId);\n      if (parentSession) {\n        parentSession.emit('sessionattached', session);\n      }\n    } else if (object.method === 'Target.detachedFromTarget') {\n      const session = __classPrivateFieldGet(this, _Connection_sessions, \"f\").get(object.params.sessionId);\n      if (session) {\n        session._onClosed();\n        __classPrivateFieldGet(this, _Connection_sessions, \"f\").delete(object.params.sessionId);\n        this.emit('sessiondetached', session);\n        const parentSession = __classPrivateFieldGet(this, _Connection_sessions, \"f\").get(object.sessionId);\n        if (parentSession) {\n          parentSession.emit('sessiondetached', session);\n        }\n      }\n    }\n    if (object.sessionId) {\n      const session = __classPrivateFieldGet(this, _Connection_sessions, \"f\").get(object.sessionId);\n      if (session) {\n        session._onMessage(object);\n      }\n    } else if (object.id) {\n      if (object.error) {\n        __classPrivateFieldGet(this, _Connection_callbacks, \"f\").reject(object.id, createProtocolErrorMessage(object), object.error.message);\n      } else {\n        __classPrivateFieldGet(this, _Connection_callbacks, \"f\").resolve(object.id, object.result);\n      }\n    } else {\n      this.emit(object.method, object.params);\n    }\n  }\n  dispose() {\n    __classPrivateFieldGet(this, _Connection_instances, \"m\", _Connection_onClose).call(this);\n    __classPrivateFieldGet(this, _Connection_transport, \"f\").close();\n  }\n  /**\n   * @internal\n   */\n  isAutoAttached(targetId) {\n    return !__classPrivateFieldGet(this, _Connection_manuallyAttached, \"f\").has(targetId);\n  }\n  /**\n   * @internal\n   */\n  async _createSession(targetInfo, isAutoAttachEmulated = true) {\n    if (!isAutoAttachEmulated) {\n      __classPrivateFieldGet(this, _Connection_manuallyAttached, \"f\").add(targetInfo.targetId);\n    }\n    const {\n      sessionId\n    } = await this.send('Target.attachToTarget', {\n      targetId: targetInfo.targetId,\n      flatten: true\n    });\n    __classPrivateFieldGet(this, _Connection_manuallyAttached, \"f\").delete(targetInfo.targetId);\n    const session = __classPrivateFieldGet(this, _Connection_sessions, \"f\").get(sessionId);\n    if (!session) {\n      throw new Error('CDPSession creation failed.');\n    }\n    return session;\n  }\n  /**\n   * @param targetInfo - The target info\n   * @returns The CDP session that is created\n   */\n  async createSession(targetInfo) {\n    return await this._createSession(targetInfo, false);\n  }\n}\nexports.Connection = Connection;\n_Connection_url = new WeakMap(), _Connection_transport = new WeakMap(), _Connection_delay = new WeakMap(), _Connection_timeout = new WeakMap(), _Connection_sessions = new WeakMap(), _Connection_closed = new WeakMap(), _Connection_manuallyAttached = new WeakMap(), _Connection_callbacks = new WeakMap(), _Connection_instances = new WeakSet(), _Connection_onClose = function _Connection_onClose() {\n  if (__classPrivateFieldGet(this, _Connection_closed, \"f\")) {\n    return;\n  }\n  __classPrivateFieldSet(this, _Connection_closed, true, \"f\");\n  __classPrivateFieldGet(this, _Connection_transport, \"f\").onmessage = undefined;\n  __classPrivateFieldGet(this, _Connection_transport, \"f\").onclose = undefined;\n  __classPrivateFieldGet(this, _Connection_callbacks, \"f\").clear();\n  for (const session of __classPrivateFieldGet(this, _Connection_sessions, \"f\").values()) {\n    session._onClosed();\n  }\n  __classPrivateFieldGet(this, _Connection_sessions, \"f\").clear();\n  this.emit(exports.ConnectionEmittedEvents.Disconnected);\n};\n/**\n * Internal events that the CDPSession class emits.\n *\n * @internal\n */\nexports.CDPSessionEmittedEvents = {\n  Disconnected: Symbol('CDPSession.Disconnected')\n};\n/**\n * The `CDPSession` instances are used to talk raw Chrome Devtools Protocol.\n *\n * @remarks\n *\n * Protocol methods can be called with {@link CDPSession.send} method and protocol\n * events can be subscribed to with `CDPSession.on` method.\n *\n * Useful links: {@link https://chromedevtools.github.io/devtools-protocol/ | DevTools Protocol Viewer}\n * and {@link https://github.com/aslushnikov/getting-started-with-cdp/blob/HEAD/README.md | Getting Started with DevTools Protocol}.\n *\n * @example\n *\n * ```ts\n * const client = await page.target().createCDPSession();\n * await client.send('Animation.enable');\n * client.on('Animation.animationCreated', () =>\n *   console.log('Animation created!')\n * );\n * const response = await client.send('Animation.getPlaybackRate');\n * console.log('playback rate is ' + response.playbackRate);\n * await client.send('Animation.setPlaybackRate', {\n *   playbackRate: response.playbackRate / 2,\n * });\n * ```\n *\n * @public\n */\nclass CDPSession extends EventEmitter_js_1.EventEmitter {\n  /**\n   * @internal\n   */\n  constructor() {\n    super();\n  }\n  connection() {\n    throw new Error('Not implemented');\n  }\n  send() {\n    throw new Error('Not implemented');\n  }\n  /**\n   * Detaches the cdpSession from the target. Once detached, the cdpSession object\n   * won't emit any events and can't be used to send messages.\n   */\n  async detach() {\n    throw new Error('Not implemented');\n  }\n  /**\n   * Returns the session's id.\n   */\n  id() {\n    throw new Error('Not implemented');\n  }\n}\nexports.CDPSession = CDPSession;\n/**\n * @internal\n */\nclass CDPSessionImpl extends CDPSession {\n  /**\n   * @internal\n   */\n  constructor(connection, targetType, sessionId) {\n    super();\n    _CDPSessionImpl_sessionId.set(this, void 0);\n    _CDPSessionImpl_targetType.set(this, void 0);\n    _CDPSessionImpl_callbacks.set(this, new CallbackRegistry());\n    _CDPSessionImpl_connection.set(this, void 0);\n    __classPrivateFieldSet(this, _CDPSessionImpl_connection, connection, \"f\");\n    __classPrivateFieldSet(this, _CDPSessionImpl_targetType, targetType, \"f\");\n    __classPrivateFieldSet(this, _CDPSessionImpl_sessionId, sessionId, \"f\");\n  }\n  connection() {\n    return __classPrivateFieldGet(this, _CDPSessionImpl_connection, \"f\");\n  }\n  send(method, ...paramArgs) {\n    if (!__classPrivateFieldGet(this, _CDPSessionImpl_connection, \"f\")) {\n      return Promise.reject(new Error(`Protocol error (${method}): Session closed. Most likely the ${__classPrivateFieldGet(this, _CDPSessionImpl_targetType, \"f\")} has been closed.`));\n    }\n    // See the comment in Connection#send explaining why we do this.\n    const params = paramArgs.length ? paramArgs[0] : undefined;\n    return __classPrivateFieldGet(this, _CDPSessionImpl_connection, \"f\")._rawSend(__classPrivateFieldGet(this, _CDPSessionImpl_callbacks, \"f\"), method, params, __classPrivateFieldGet(this, _CDPSessionImpl_sessionId, \"f\"));\n  }\n  /**\n   * @internal\n   */\n  _onMessage(object) {\n    if (object.id) {\n      if (object.error) {\n        __classPrivateFieldGet(this, _CDPSessionImpl_callbacks, \"f\").reject(object.id, createProtocolErrorMessage(object), object.error.message);\n      } else {\n        __classPrivateFieldGet(this, _CDPSessionImpl_callbacks, \"f\").resolve(object.id, object.result);\n      }\n    } else {\n      (0, assert_js_1.assert)(!object.id);\n      this.emit(object.method, object.params);\n    }\n  }\n  /**\n   * Detaches the cdpSession from the target. Once detached, the cdpSession object\n   * won't emit any events and can't be used to send messages.\n   */\n  async detach() {\n    if (!__classPrivateFieldGet(this, _CDPSessionImpl_connection, \"f\")) {\n      throw new Error(`Session already detached. Most likely the ${__classPrivateFieldGet(this, _CDPSessionImpl_targetType, \"f\")} has been closed.`);\n    }\n    await __classPrivateFieldGet(this, _CDPSessionImpl_connection, \"f\").send('Target.detachFromTarget', {\n      sessionId: __classPrivateFieldGet(this, _CDPSessionImpl_sessionId, \"f\")\n    });\n  }\n  /**\n   * @internal\n   */\n  _onClosed() {\n    __classPrivateFieldGet(this, _CDPSessionImpl_callbacks, \"f\").clear();\n    __classPrivateFieldSet(this, _CDPSessionImpl_connection, undefined, \"f\");\n    this.emit(exports.CDPSessionEmittedEvents.Disconnected);\n  }\n  /**\n   * Returns the session's id.\n   */\n  id() {\n    return __classPrivateFieldGet(this, _CDPSessionImpl_sessionId, \"f\");\n  }\n}\nexports.CDPSessionImpl = CDPSessionImpl;\n_CDPSessionImpl_sessionId = new WeakMap(), _CDPSessionImpl_targetType = new WeakMap(), _CDPSessionImpl_callbacks = new WeakMap(), _CDPSessionImpl_connection = new WeakMap();\nfunction createProtocolErrorMessage(object) {\n  let message = `${object.error.message}`;\n  if ('data' in object.error) {\n    message += ` ${object.error.data}`;\n  }\n  return message;\n}\nfunction rewriteError(error, message, originalMessage) {\n  error.message = message;\n  error.originalMessage = originalMessage !== null && originalMessage !== void 0 ? originalMessage : error.originalMessage;\n  return error;\n}\n/**\n * @internal\n */\nfunction isTargetClosedError(err) {\n  return err.message.includes('Target closed') || err.message.includes('Session closed');\n}\nexports.isTargetClosedError = isTargetClosedError;","map":{"version":3,"names":["assert_js_1","require","util_js_1","Debug_js_1","Errors_js_1","EventEmitter_js_1","debugProtocolSend","debug","debugProtocolReceive","exports","ConnectionEmittedEvents","Disconnected","Symbol","createIncrementalIdGenerator","id","Callback","constructor","label","timeout","_Callback_id","set","_Callback_error","ProtocolError","_Callback_promise","createDeferredPromise","_Callback_timer","_Callback_label","__classPrivateFieldSet","setTimeout","__classPrivateFieldGet","reject","rewriteError","resolve","value","clearTimeout","error","promise","CallbackRegistry","_CallbackRegistry_callbacks","Map","_CallbackRegistry_idGenerator","create","request","callback","call","catch","delete","finally","message","originalMessage","get","_reject","clear","values","Connection","EventEmitter","url","transport","delay","_Connection_url","_Connection_transport","_Connection_delay","_Connection_timeout","_Connection_sessions","_Connection_closed","_Connection_manuallyAttached","Set","_Connection_callbacks","onmessage","onMessage","bind","onclose","_Connection_instances","_Connection_onClose","fromSession","session","connection","_closed","_sessions","sessionId","send","method","paramArgs","params","length","undefined","_rawSend","callbacks","stringifiedMessage","JSON","stringify","closeBrowser","Promise","f","object","parse","CDPSessionImpl","targetInfo","type","emit","parentSession","_onClosed","_onMessage","createProtocolErrorMessage","result","dispose","close","isAutoAttached","targetId","has","_createSession","isAutoAttachEmulated","add","flatten","Error","createSession","CDPSessionEmittedEvents","CDPSession","detach","targetType","_CDPSessionImpl_sessionId","_CDPSessionImpl_targetType","_CDPSessionImpl_callbacks","_CDPSessionImpl_connection","assert","data","isTargetClosedError","err","includes"],"sources":["../../../../src/common/Connection.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}