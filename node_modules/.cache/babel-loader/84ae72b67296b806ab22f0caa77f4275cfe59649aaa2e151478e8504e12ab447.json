{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2023 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resolveSystemExecutablePath = exports.createProfile = exports.resolveBuildId = exports.ChromeReleaseChannel = exports.BrowserPlatform = exports.Browser = exports.executablePathByBrowser = exports.downloadPaths = exports.downloadUrls = void 0;\nconst chrome = __importStar(require(\"./chrome.js\"));\nconst chromedriver = __importStar(require(\"./chromedriver.js\"));\nconst chromium = __importStar(require(\"./chromium.js\"));\nconst firefox = __importStar(require(\"./firefox.js\"));\nconst types_js_1 = require(\"./types.js\");\nObject.defineProperty(exports, \"Browser\", {\n  enumerable: true,\n  get: function () {\n    return types_js_1.Browser;\n  }\n});\nObject.defineProperty(exports, \"BrowserPlatform\", {\n  enumerable: true,\n  get: function () {\n    return types_js_1.BrowserPlatform;\n  }\n});\nObject.defineProperty(exports, \"ChromeReleaseChannel\", {\n  enumerable: true,\n  get: function () {\n    return types_js_1.ChromeReleaseChannel;\n  }\n});\nexports.downloadUrls = {\n  [types_js_1.Browser.CHROMEDRIVER]: chromedriver.resolveDownloadUrl,\n  [types_js_1.Browser.CHROME]: chrome.resolveDownloadUrl,\n  [types_js_1.Browser.CHROMIUM]: chromium.resolveDownloadUrl,\n  [types_js_1.Browser.FIREFOX]: firefox.resolveDownloadUrl\n};\nexports.downloadPaths = {\n  [types_js_1.Browser.CHROMEDRIVER]: chromedriver.resolveDownloadPath,\n  [types_js_1.Browser.CHROME]: chrome.resolveDownloadPath,\n  [types_js_1.Browser.CHROMIUM]: chromium.resolveDownloadPath,\n  [types_js_1.Browser.FIREFOX]: firefox.resolveDownloadPath\n};\nexports.executablePathByBrowser = {\n  [types_js_1.Browser.CHROMEDRIVER]: chromedriver.relativeExecutablePath,\n  [types_js_1.Browser.CHROME]: chrome.relativeExecutablePath,\n  [types_js_1.Browser.CHROMIUM]: chromium.relativeExecutablePath,\n  [types_js_1.Browser.FIREFOX]: firefox.relativeExecutablePath\n};\n/**\n * @public\n */\nasync function resolveBuildId(browser, platform, tag) {\n  switch (browser) {\n    case types_js_1.Browser.FIREFOX:\n      switch (tag) {\n        case types_js_1.BrowserTag.LATEST:\n          return await firefox.resolveBuildId('FIREFOX_NIGHTLY');\n      }\n    case types_js_1.Browser.CHROME:\n      switch (tag) {\n        case types_js_1.BrowserTag.LATEST:\n          // In CfT beta is the latest version.\n          return await chrome.resolveBuildId(platform, 'beta');\n      }\n    case types_js_1.Browser.CHROMEDRIVER:\n      switch (tag) {\n        case types_js_1.BrowserTag.LATEST:\n          return await chromedriver.resolveBuildId('latest');\n      }\n    case types_js_1.Browser.CHROMIUM:\n      switch (tag) {\n        case types_js_1.BrowserTag.LATEST:\n          return await chromium.resolveBuildId(platform, 'latest');\n      }\n  }\n  // We assume the tag is the buildId if it didn't match any keywords.\n  return tag;\n}\nexports.resolveBuildId = resolveBuildId;\n/**\n * @public\n */\nasync function createProfile(browser, opts) {\n  switch (browser) {\n    case types_js_1.Browser.FIREFOX:\n      return await firefox.createProfile(opts);\n    case types_js_1.Browser.CHROME:\n    case types_js_1.Browser.CHROMIUM:\n      throw new Error(`Profile creation is not support for ${browser} yet`);\n  }\n}\nexports.createProfile = createProfile;\n/**\n * @public\n */\nfunction resolveSystemExecutablePath(browser, platform, channel) {\n  switch (browser) {\n    case types_js_1.Browser.CHROMEDRIVER:\n    case types_js_1.Browser.FIREFOX:\n      throw new Error(`System browser detection is not supported for ${browser} yet.`);\n    case types_js_1.Browser.CHROME:\n      return chromium.resolveSystemExecutablePath(platform, channel);\n    case types_js_1.Browser.CHROMIUM:\n      return chrome.resolveSystemExecutablePath(platform, channel);\n  }\n}\nexports.resolveSystemExecutablePath = resolveSystemExecutablePath;","map":{"version":3,"names":["chrome","__importStar","require","chromedriver","chromium","firefox","types_js_1","Object","defineProperty","exports","enumerable","get","Browser","BrowserPlatform","ChromeReleaseChannel","downloadUrls","CHROMEDRIVER","resolveDownloadUrl","CHROME","CHROMIUM","FIREFOX","downloadPaths","resolveDownloadPath","executablePathByBrowser","relativeExecutablePath","resolveBuildId","browser","platform","tag","BrowserTag","LATEST","createProfile","opts","Error","resolveSystemExecutablePath","channel"],"sources":["../../../src/browser-data/browser-data.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}