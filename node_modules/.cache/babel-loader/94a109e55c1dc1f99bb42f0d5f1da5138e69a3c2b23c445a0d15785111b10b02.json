{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2023 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nvar _CLI_instances, _CLI_cachePath, _CLI_rl, _CLI_defineBrowserParameter, _CLI_definePlatformParameter, _CLI_definePathParameter, _CLI_parseBrowser, _CLI_parseBuildId;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeProgressCallback = exports.CLI = void 0;\nconst process_1 = require(\"process\");\nconst readline = __importStar(require(\"readline\"));\nconst progress_1 = __importDefault(require(\"progress\"));\nconst helpers_1 = require(\"yargs/helpers\");\nconst yargs_1 = __importDefault(require(\"yargs/yargs\"));\nconst browser_data_js_1 = require(\"./browser-data/browser-data.js\");\nconst Cache_js_1 = require(\"./Cache.js\");\nconst detectPlatform_js_1 = require(\"./detectPlatform.js\");\nconst install_js_1 = require(\"./install.js\");\nconst launch_js_1 = require(\"./launch.js\");\n/**\n * @public\n */\nclass CLI {\n  constructor(cachePath = process.cwd(), rl) {\n    _CLI_instances.add(this);\n    _CLI_cachePath.set(this, void 0);\n    _CLI_rl.set(this, void 0);\n    __classPrivateFieldSet(this, _CLI_cachePath, cachePath, \"f\");\n    __classPrivateFieldSet(this, _CLI_rl, rl, \"f\");\n  }\n  async run(argv) {\n    const yargsInstance = (0, yargs_1.default)((0, helpers_1.hideBin)(argv));\n    await yargsInstance.scriptName('@puppeteer/browsers').command('install <browser>', 'Download and install the specified browser. If successful, the command outputs the actual browser buildId that was installed and the absolute path to the browser executable (format: <browser>@<buildID> <path>).', yargs => {\n      __classPrivateFieldGet(this, _CLI_instances, \"m\", _CLI_defineBrowserParameter).call(this, yargs);\n      __classPrivateFieldGet(this, _CLI_instances, \"m\", _CLI_definePlatformParameter).call(this, yargs);\n      __classPrivateFieldGet(this, _CLI_instances, \"m\", _CLI_definePathParameter).call(this, yargs);\n      yargs.option('base-url', {\n        type: 'string',\n        desc: 'Base URL to download from'\n      });\n      yargs.example('$0 install chrome', 'Install the latest available build of the Chrome browser.');\n      yargs.example('$0 install chrome@latest', 'Install the latest available build for the Chrome browser.');\n      yargs.example('$0 install chromium@1083080', 'Install the revision 1083080 of the Chromium browser.');\n      yargs.example('$0 install firefox', 'Install the latest available build of the Firefox browser.');\n      yargs.example('$0 install firefox --platform mac', 'Install the latest Mac (Intel) build of the Firefox browser.');\n      yargs.example('$0 install firefox --path /tmp/my-browser-cache', 'Install to the specified cache directory.');\n    }, async argv => {\n      var _a, _b, _c;\n      const args = argv;\n      (_a = args.platform) !== null && _a !== void 0 ? _a : args.platform = (0, detectPlatform_js_1.detectBrowserPlatform)();\n      if (!args.platform) {\n        throw new Error(`Could not resolve the current platform`);\n      }\n      args.browser.buildId = await (0, browser_data_js_1.resolveBuildId)(args.browser.name, args.platform, args.browser.buildId);\n      await (0, install_js_1.install)({\n        browser: args.browser.name,\n        buildId: args.browser.buildId,\n        platform: args.platform,\n        cacheDir: (_b = args.path) !== null && _b !== void 0 ? _b : __classPrivateFieldGet(this, _CLI_cachePath, \"f\"),\n        downloadProgressCallback: makeProgressCallback(args.browser.name, args.browser.buildId),\n        baseUrl: args.baseUrl\n      });\n      console.log(`${args.browser.name}@${args.browser.buildId} ${(0, launch_js_1.computeExecutablePath)({\n        browser: args.browser.name,\n        buildId: args.browser.buildId,\n        cacheDir: (_c = args.path) !== null && _c !== void 0 ? _c : __classPrivateFieldGet(this, _CLI_cachePath, \"f\"),\n        platform: args.platform\n      })}`);\n    }).command('launch <browser>', 'Launch the specified browser', yargs => {\n      __classPrivateFieldGet(this, _CLI_instances, \"m\", _CLI_defineBrowserParameter).call(this, yargs);\n      __classPrivateFieldGet(this, _CLI_instances, \"m\", _CLI_definePlatformParameter).call(this, yargs);\n      __classPrivateFieldGet(this, _CLI_instances, \"m\", _CLI_definePathParameter).call(this, yargs);\n      yargs.option('detached', {\n        type: 'boolean',\n        desc: 'Detach the child process.',\n        default: false\n      });\n      yargs.option('system', {\n        type: 'boolean',\n        desc: 'Search for a browser installed on the system instead of the cache folder.',\n        default: false\n      });\n      yargs.example('$0 launch chrome@1083080', 'Launch the Chrome browser identified by the revision 1083080.');\n      yargs.example('$0 launch firefox@112.0a1', 'Launch the Firefox browser identified by the milestone 112.0a1.');\n      yargs.example('$0 launch chrome@1083080 --detached', 'Launch the browser but detach the sub-processes.');\n      yargs.example('$0 launch chrome@canary --system', 'Try to locate the Canary build of Chrome installed on the system and launch it.');\n    }, async argv => {\n      var _a;\n      const args = argv;\n      const executablePath = args.system ? (0, launch_js_1.computeSystemExecutablePath)({\n        browser: args.browser.name,\n        // TODO: throw an error if not a ChromeReleaseChannel is provided.\n        channel: args.browser.buildId,\n        platform: args.platform\n      }) : (0, launch_js_1.computeExecutablePath)({\n        browser: args.browser.name,\n        buildId: args.browser.buildId,\n        cacheDir: (_a = args.path) !== null && _a !== void 0 ? _a : __classPrivateFieldGet(this, _CLI_cachePath, \"f\"),\n        platform: args.platform\n      });\n      (0, launch_js_1.launch)({\n        executablePath,\n        detached: args.detached\n      });\n    }).command('clear', 'Removes all installed browsers from the specified cache directory', yargs => {\n      __classPrivateFieldGet(this, _CLI_instances, \"m\", _CLI_definePathParameter).call(this, yargs, true);\n    }, async argv => {\n      var _a, _b;\n      const args = argv;\n      const cacheDir = (_a = args.path) !== null && _a !== void 0 ? _a : __classPrivateFieldGet(this, _CLI_cachePath, \"f\");\n      const rl = (_b = __classPrivateFieldGet(this, _CLI_rl, \"f\")) !== null && _b !== void 0 ? _b : readline.createInterface({\n        input: process_1.stdin,\n        output: process_1.stdout\n      });\n      rl.question(`Do you want to permanently and recursively delete the content of ${cacheDir} (yes/No)? `, answer => {\n        rl.close();\n        if (!['y', 'yes'].includes(answer.toLowerCase().trim())) {\n          console.log('Cancelled.');\n          return;\n        }\n        const cache = new Cache_js_1.Cache(cacheDir);\n        cache.clear();\n        console.log(`${cacheDir} cleared.`);\n      });\n    }).demandCommand(1).help().wrap(Math.min(120, yargsInstance.terminalWidth())).parse();\n  }\n}\nexports.CLI = CLI;\n_CLI_cachePath = new WeakMap(), _CLI_rl = new WeakMap(), _CLI_instances = new WeakSet(), _CLI_defineBrowserParameter = function _CLI_defineBrowserParameter(yargs) {\n  yargs.positional('browser', {\n    description: 'Which browser to install <browser>[@<buildId|latest>]. `latest` will try to find the latest available build. `buildId` is a browser-specific identifier such as a version or a revision.',\n    type: 'string',\n    coerce: opt => {\n      return {\n        name: __classPrivateFieldGet(this, _CLI_instances, \"m\", _CLI_parseBrowser).call(this, opt),\n        buildId: __classPrivateFieldGet(this, _CLI_instances, \"m\", _CLI_parseBuildId).call(this, opt)\n      };\n    }\n  });\n}, _CLI_definePlatformParameter = function _CLI_definePlatformParameter(yargs) {\n  yargs.option('platform', {\n    type: 'string',\n    desc: 'Platform that the binary needs to be compatible with.',\n    choices: Object.values(browser_data_js_1.BrowserPlatform),\n    defaultDescription: 'Auto-detected'\n  });\n}, _CLI_definePathParameter = function _CLI_definePathParameter(yargs, required = false) {\n  yargs.option('path', {\n    type: 'string',\n    desc: 'Path to the root folder for the browser downloads and installation. The installation folder structure is compatible with the cache structure used by Puppeteer.',\n    defaultDescription: 'Current working directory',\n    ...(required ? {} : {\n      default: process.cwd()\n    })\n  });\n  if (required) {\n    yargs.demandOption('path');\n  }\n}, _CLI_parseBrowser = function _CLI_parseBrowser(version) {\n  return version.split('@').shift();\n}, _CLI_parseBuildId = function _CLI_parseBuildId(version) {\n  var _a;\n  return (_a = version.split('@').pop()) !== null && _a !== void 0 ? _a : 'latest';\n};\n/**\n * @public\n */\nfunction makeProgressCallback(browser, buildId) {\n  let progressBar;\n  let lastDownloadedBytes = 0;\n  return (downloadedBytes, totalBytes) => {\n    if (!progressBar) {\n      progressBar = new progress_1.default(`Downloading ${browser} r${buildId} - ${toMegabytes(totalBytes)} [:bar] :percent :etas `, {\n        complete: '=',\n        incomplete: ' ',\n        width: 20,\n        total: totalBytes\n      });\n    }\n    const delta = downloadedBytes - lastDownloadedBytes;\n    lastDownloadedBytes = downloadedBytes;\n    progressBar.tick(delta);\n  };\n}\nexports.makeProgressCallback = makeProgressCallback;\nfunction toMegabytes(bytes) {\n  const mb = bytes / 1000 / 1000;\n  return `${Math.round(mb * 10) / 10} MB`;\n}","map":{"version":3,"names":["process_1","require","readline","__importStar","progress_1","__importDefault","helpers_1","yargs_1","browser_data_js_1","Cache_js_1","detectPlatform_js_1","install_js_1","launch_js_1","CLI","constructor","cachePath","process","cwd","rl","_CLI_cachePath","set","_CLI_rl","__classPrivateFieldSet","run","argv","yargsInstance","default","hideBin","scriptName","command","yargs","__classPrivateFieldGet","_CLI_instances","_CLI_defineBrowserParameter","call","_CLI_definePlatformParameter","_CLI_definePathParameter","option","type","desc","example","args","_a","platform","detectBrowserPlatform","Error","browser","buildId","resolveBuildId","name","install","cacheDir","_b","path","downloadProgressCallback","makeProgressCallback","baseUrl","console","log","computeExecutablePath","_c","executablePath","system","computeSystemExecutablePath","channel","launch","detached","createInterface","input","stdin","output","stdout","question","answer","close","includes","toLowerCase","trim","cache","Cache","clear","demandCommand","help","wrap","Math","min","terminalWidth","parse","exports","positional","description","coerce","opt","_CLI_parseBrowser","_CLI_parseBuildId","choices","Object","values","BrowserPlatform","defaultDescription","required","demandOption","version","split","shift","pop","progressBar","lastDownloadedBytes","downloadedBytes","totalBytes","toMegabytes","complete","incomplete","width","total","delta","tick","bytes","mb","round"],"sources":["../../src/CLI.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}