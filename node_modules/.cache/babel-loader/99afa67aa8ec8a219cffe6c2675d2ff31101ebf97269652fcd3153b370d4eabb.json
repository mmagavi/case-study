{"ast":null,"code":"/**\n * Copyright 2022 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ChromeTargetManager_instances, _ChromeTargetManager_connection, _ChromeTargetManager_discoveredTargetsByTargetId, _ChromeTargetManager_attachedTargetsByTargetId, _ChromeTargetManager_attachedTargetsBySessionId, _ChromeTargetManager_ignoredTargets, _ChromeTargetManager_targetFilterCallback, _ChromeTargetManager_targetFactory, _ChromeTargetManager_targetInterceptors, _ChromeTargetManager_attachedToTargetListenersBySession, _ChromeTargetManager_detachedFromTargetListenersBySession, _ChromeTargetManager_initializePromise, _ChromeTargetManager_targetsIdsForInit, _ChromeTargetManager_storeExistingTargetsForInit, _ChromeTargetManager_setupAttachmentListeners, _ChromeTargetManager_removeAttachmentListeners, _ChromeTargetManager_onSessionDetached, _ChromeTargetManager_onTargetCreated, _ChromeTargetManager_onTargetDestroyed, _ChromeTargetManager_onTargetInfoChanged, _ChromeTargetManager_onAttachedToTarget, _ChromeTargetManager_finishInitializationIfReady, _ChromeTargetManager_onDetachedFromTarget;\nimport { assert } from '../util/assert.js';\nimport { createDeferredPromise } from '../util/DeferredPromise.js';\nimport { Connection } from './Connection.js';\nimport { EventEmitter } from './EventEmitter.js';\nimport { debugError } from './util.js';\n/**\n * ChromeTargetManager uses the CDP's auto-attach mechanism to intercept\n * new targets and allow the rest of Puppeteer to configure listeners while\n * the target is paused.\n *\n * @internal\n */\nexport class ChromeTargetManager extends EventEmitter {\n  constructor(connection, targetFactory, targetFilterCallback) {\n    super();\n    _ChromeTargetManager_instances.add(this);\n    _ChromeTargetManager_connection.set(this, void 0);\n    /**\n     * Keeps track of the following events: 'Target.targetCreated',\n     * 'Target.targetDestroyed', 'Target.targetInfoChanged'.\n     *\n     * A target becomes discovered when 'Target.targetCreated' is received.\n     * A target is removed from this map once 'Target.targetDestroyed' is\n     * received.\n     *\n     * `targetFilterCallback` has no effect on this map.\n     */\n    _ChromeTargetManager_discoveredTargetsByTargetId.set(this, new Map());\n    /**\n     * A target is added to this map once ChromeTargetManager has created\n     * a Target and attached at least once to it.\n     */\n    _ChromeTargetManager_attachedTargetsByTargetId.set(this, new Map());\n    /**\n     * Tracks which sessions attach to which target.\n     */\n    _ChromeTargetManager_attachedTargetsBySessionId.set(this, new Map());\n    /**\n     * If a target was filtered out by `targetFilterCallback`, we still receive\n     * events about it from CDP, but we don't forward them to the rest of Puppeteer.\n     */\n    _ChromeTargetManager_ignoredTargets.set(this, new Set());\n    _ChromeTargetManager_targetFilterCallback.set(this, void 0);\n    _ChromeTargetManager_targetFactory.set(this, void 0);\n    _ChromeTargetManager_targetInterceptors.set(this, new WeakMap());\n    _ChromeTargetManager_attachedToTargetListenersBySession.set(this, new WeakMap());\n    _ChromeTargetManager_detachedFromTargetListenersBySession.set(this, new WeakMap());\n    _ChromeTargetManager_initializePromise.set(this, createDeferredPromise());\n    _ChromeTargetManager_targetsIdsForInit.set(this, new Set());\n    _ChromeTargetManager_storeExistingTargetsForInit.set(this, () => {\n      for (const [targetId, targetInfo] of __classPrivateFieldGet(this, _ChromeTargetManager_discoveredTargetsByTargetId, \"f\").entries()) {\n        if ((!__classPrivateFieldGet(this, _ChromeTargetManager_targetFilterCallback, \"f\") || __classPrivateFieldGet(this, _ChromeTargetManager_targetFilterCallback, \"f\").call(this, targetInfo)) && targetInfo.type !== 'browser') {\n          __classPrivateFieldGet(this, _ChromeTargetManager_targetsIdsForInit, \"f\").add(targetId);\n        }\n      }\n    });\n    _ChromeTargetManager_onSessionDetached.set(this, session => {\n      __classPrivateFieldGet(this, _ChromeTargetManager_instances, \"m\", _ChromeTargetManager_removeAttachmentListeners).call(this, session);\n      __classPrivateFieldGet(this, _ChromeTargetManager_targetInterceptors, \"f\").delete(session);\n    });\n    _ChromeTargetManager_onTargetCreated.set(this, async event => {\n      __classPrivateFieldGet(this, _ChromeTargetManager_discoveredTargetsByTargetId, \"f\").set(event.targetInfo.targetId, event.targetInfo);\n      this.emit(\"targetDiscovered\" /* TargetManagerEmittedEvents.TargetDiscovered */, event.targetInfo);\n      // The connection is already attached to the browser target implicitly,\n      // therefore, no new CDPSession is created and we have special handling\n      // here.\n      if (event.targetInfo.type === 'browser' && event.targetInfo.attached) {\n        if (__classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\").has(event.targetInfo.targetId)) {\n          return;\n        }\n        const target = __classPrivateFieldGet(this, _ChromeTargetManager_targetFactory, \"f\").call(this, event.targetInfo, undefined);\n        __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\").set(event.targetInfo.targetId, target);\n      }\n    });\n    _ChromeTargetManager_onTargetDestroyed.set(this, event => {\n      const targetInfo = __classPrivateFieldGet(this, _ChromeTargetManager_discoveredTargetsByTargetId, \"f\").get(event.targetId);\n      __classPrivateFieldGet(this, _ChromeTargetManager_discoveredTargetsByTargetId, \"f\").delete(event.targetId);\n      __classPrivateFieldGet(this, _ChromeTargetManager_instances, \"m\", _ChromeTargetManager_finishInitializationIfReady).call(this, event.targetId);\n      if ((targetInfo === null || targetInfo === void 0 ? void 0 : targetInfo.type) === 'service_worker' && __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\").has(event.targetId)) {\n        // Special case for service workers: report TargetGone event when\n        // the worker is destroyed.\n        const target = __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\").get(event.targetId);\n        this.emit(\"targetGone\" /* TargetManagerEmittedEvents.TargetGone */, target);\n        __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\").delete(event.targetId);\n      }\n    });\n    _ChromeTargetManager_onTargetInfoChanged.set(this, event => {\n      __classPrivateFieldGet(this, _ChromeTargetManager_discoveredTargetsByTargetId, \"f\").set(event.targetInfo.targetId, event.targetInfo);\n      if (__classPrivateFieldGet(this, _ChromeTargetManager_ignoredTargets, \"f\").has(event.targetInfo.targetId) || !__classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\").has(event.targetInfo.targetId) || !event.targetInfo.attached) {\n        return;\n      }\n      const target = __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\").get(event.targetInfo.targetId);\n      this.emit(\"targetChanged\" /* TargetManagerEmittedEvents.TargetChanged */, {\n        target: target,\n        targetInfo: event.targetInfo\n      });\n    });\n    _ChromeTargetManager_onAttachedToTarget.set(this, async (parentSession, event) => {\n      const targetInfo = event.targetInfo;\n      const session = __classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\").session(event.sessionId);\n      if (!session) {\n        throw new Error(`Session ${event.sessionId} was not created.`);\n      }\n      const silentDetach = async () => {\n        await session.send('Runtime.runIfWaitingForDebugger').catch(debugError);\n        // We don't use `session.detach()` because that dispatches all commands on\n        // the connection instead of the parent session.\n        await parentSession.send('Target.detachFromTarget', {\n          sessionId: session.id()\n        }).catch(debugError);\n      };\n      if (!__classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\").isAutoAttached(targetInfo.targetId)) {\n        return;\n      }\n      // Special case for service workers: being attached to service workers will\n      // prevent them from ever being destroyed. Therefore, we silently detach\n      // from service workers unless the connection was manually created via\n      // `page.worker()`. To determine this, we use\n      // `this.#connection.isAutoAttached(targetInfo.targetId)`. In the future, we\n      // should determine if a target is auto-attached or not with the help of\n      // CDP.\n      if (targetInfo.type === 'service_worker' && __classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\").isAutoAttached(targetInfo.targetId)) {\n        __classPrivateFieldGet(this, _ChromeTargetManager_instances, \"m\", _ChromeTargetManager_finishInitializationIfReady).call(this, targetInfo.targetId);\n        await silentDetach();\n        if (__classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\").has(targetInfo.targetId)) {\n          return;\n        }\n        const target = __classPrivateFieldGet(this, _ChromeTargetManager_targetFactory, \"f\").call(this, targetInfo);\n        __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\").set(targetInfo.targetId, target);\n        this.emit(\"targetAvailable\" /* TargetManagerEmittedEvents.TargetAvailable */, target);\n        return;\n      }\n      if (__classPrivateFieldGet(this, _ChromeTargetManager_targetFilterCallback, \"f\") && !__classPrivateFieldGet(this, _ChromeTargetManager_targetFilterCallback, \"f\").call(this, targetInfo)) {\n        __classPrivateFieldGet(this, _ChromeTargetManager_ignoredTargets, \"f\").add(targetInfo.targetId);\n        __classPrivateFieldGet(this, _ChromeTargetManager_instances, \"m\", _ChromeTargetManager_finishInitializationIfReady).call(this, targetInfo.targetId);\n        await silentDetach();\n        return;\n      }\n      const existingTarget = __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\").has(targetInfo.targetId);\n      const target = existingTarget ? __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\").get(targetInfo.targetId) : __classPrivateFieldGet(this, _ChromeTargetManager_targetFactory, \"f\").call(this, targetInfo, session);\n      __classPrivateFieldGet(this, _ChromeTargetManager_instances, \"m\", _ChromeTargetManager_setupAttachmentListeners).call(this, session);\n      if (existingTarget) {\n        __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsBySessionId, \"f\").set(session.id(), __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\").get(targetInfo.targetId));\n      } else {\n        __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\").set(targetInfo.targetId, target);\n        __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsBySessionId, \"f\").set(session.id(), target);\n      }\n      for (const interceptor of __classPrivateFieldGet(this, _ChromeTargetManager_targetInterceptors, \"f\").get(parentSession) || []) {\n        if (!(parentSession instanceof Connection)) {\n          // Sanity check: if parent session is not a connection, it should be\n          // present in #attachedTargetsBySessionId.\n          assert(__classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsBySessionId, \"f\").has(parentSession.id()));\n        }\n        interceptor(target, parentSession instanceof Connection ? null : __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsBySessionId, \"f\").get(parentSession.id()));\n      }\n      __classPrivateFieldGet(this, _ChromeTargetManager_targetsIdsForInit, \"f\").delete(target._targetId);\n      if (!existingTarget) {\n        this.emit(\"targetAvailable\" /* TargetManagerEmittedEvents.TargetAvailable */, target);\n      }\n      __classPrivateFieldGet(this, _ChromeTargetManager_instances, \"m\", _ChromeTargetManager_finishInitializationIfReady).call(this);\n      // TODO: the browser might be shutting down here. What do we do with the\n      // error?\n      await Promise.all([session.send('Target.setAutoAttach', {\n        waitForDebuggerOnStart: true,\n        flatten: true,\n        autoAttach: true\n      }), session.send('Runtime.runIfWaitingForDebugger')]).catch(debugError);\n    });\n    _ChromeTargetManager_onDetachedFromTarget.set(this, (_parentSession, event) => {\n      const target = __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsBySessionId, \"f\").get(event.sessionId);\n      __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsBySessionId, \"f\").delete(event.sessionId);\n      if (!target) {\n        return;\n      }\n      __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\").delete(target._targetId);\n      this.emit(\"targetGone\" /* TargetManagerEmittedEvents.TargetGone */, target);\n    });\n    __classPrivateFieldSet(this, _ChromeTargetManager_connection, connection, \"f\");\n    __classPrivateFieldSet(this, _ChromeTargetManager_targetFilterCallback, targetFilterCallback, \"f\");\n    __classPrivateFieldSet(this, _ChromeTargetManager_targetFactory, targetFactory, \"f\");\n    __classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\").on('Target.targetCreated', __classPrivateFieldGet(this, _ChromeTargetManager_onTargetCreated, \"f\"));\n    __classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\").on('Target.targetDestroyed', __classPrivateFieldGet(this, _ChromeTargetManager_onTargetDestroyed, \"f\"));\n    __classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\").on('Target.targetInfoChanged', __classPrivateFieldGet(this, _ChromeTargetManager_onTargetInfoChanged, \"f\"));\n    __classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\").on('sessiondetached', __classPrivateFieldGet(this, _ChromeTargetManager_onSessionDetached, \"f\"));\n    __classPrivateFieldGet(this, _ChromeTargetManager_instances, \"m\", _ChromeTargetManager_setupAttachmentListeners).call(this, __classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\"));\n    __classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\").send('Target.setDiscoverTargets', {\n      discover: true,\n      filter: [{\n        type: 'tab',\n        exclude: true\n      }, {}]\n    }).then(__classPrivateFieldGet(this, _ChromeTargetManager_storeExistingTargetsForInit, \"f\")).catch(debugError);\n  }\n  async initialize() {\n    await __classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\").send('Target.setAutoAttach', {\n      waitForDebuggerOnStart: true,\n      flatten: true,\n      autoAttach: true\n    });\n    __classPrivateFieldGet(this, _ChromeTargetManager_instances, \"m\", _ChromeTargetManager_finishInitializationIfReady).call(this);\n    await __classPrivateFieldGet(this, _ChromeTargetManager_initializePromise, \"f\");\n  }\n  dispose() {\n    __classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\").off('Target.targetCreated', __classPrivateFieldGet(this, _ChromeTargetManager_onTargetCreated, \"f\"));\n    __classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\").off('Target.targetDestroyed', __classPrivateFieldGet(this, _ChromeTargetManager_onTargetDestroyed, \"f\"));\n    __classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\").off('Target.targetInfoChanged', __classPrivateFieldGet(this, _ChromeTargetManager_onTargetInfoChanged, \"f\"));\n    __classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\").off('sessiondetached', __classPrivateFieldGet(this, _ChromeTargetManager_onSessionDetached, \"f\"));\n    __classPrivateFieldGet(this, _ChromeTargetManager_instances, \"m\", _ChromeTargetManager_removeAttachmentListeners).call(this, __classPrivateFieldGet(this, _ChromeTargetManager_connection, \"f\"));\n  }\n  getAvailableTargets() {\n    return __classPrivateFieldGet(this, _ChromeTargetManager_attachedTargetsByTargetId, \"f\");\n  }\n  addTargetInterceptor(session, interceptor) {\n    const interceptors = __classPrivateFieldGet(this, _ChromeTargetManager_targetInterceptors, \"f\").get(session) || [];\n    interceptors.push(interceptor);\n    __classPrivateFieldGet(this, _ChromeTargetManager_targetInterceptors, \"f\").set(session, interceptors);\n  }\n  removeTargetInterceptor(client, interceptor) {\n    const interceptors = __classPrivateFieldGet(this, _ChromeTargetManager_targetInterceptors, \"f\").get(client) || [];\n    __classPrivateFieldGet(this, _ChromeTargetManager_targetInterceptors, \"f\").set(client, interceptors.filter(currentInterceptor => {\n      return currentInterceptor !== interceptor;\n    }));\n  }\n}\n_ChromeTargetManager_connection = new WeakMap(), _ChromeTargetManager_discoveredTargetsByTargetId = new WeakMap(), _ChromeTargetManager_attachedTargetsByTargetId = new WeakMap(), _ChromeTargetManager_attachedTargetsBySessionId = new WeakMap(), _ChromeTargetManager_ignoredTargets = new WeakMap(), _ChromeTargetManager_targetFilterCallback = new WeakMap(), _ChromeTargetManager_targetFactory = new WeakMap(), _ChromeTargetManager_targetInterceptors = new WeakMap(), _ChromeTargetManager_attachedToTargetListenersBySession = new WeakMap(), _ChromeTargetManager_detachedFromTargetListenersBySession = new WeakMap(), _ChromeTargetManager_initializePromise = new WeakMap(), _ChromeTargetManager_targetsIdsForInit = new WeakMap(), _ChromeTargetManager_storeExistingTargetsForInit = new WeakMap(), _ChromeTargetManager_onSessionDetached = new WeakMap(), _ChromeTargetManager_onTargetCreated = new WeakMap(), _ChromeTargetManager_onTargetDestroyed = new WeakMap(), _ChromeTargetManager_onTargetInfoChanged = new WeakMap(), _ChromeTargetManager_onAttachedToTarget = new WeakMap(), _ChromeTargetManager_onDetachedFromTarget = new WeakMap(), _ChromeTargetManager_instances = new WeakSet(), _ChromeTargetManager_setupAttachmentListeners = function _ChromeTargetManager_setupAttachmentListeners(session) {\n  const listener = event => {\n    return __classPrivateFieldGet(this, _ChromeTargetManager_onAttachedToTarget, \"f\").call(this, session, event);\n  };\n  assert(!__classPrivateFieldGet(this, _ChromeTargetManager_attachedToTargetListenersBySession, \"f\").has(session));\n  __classPrivateFieldGet(this, _ChromeTargetManager_attachedToTargetListenersBySession, \"f\").set(session, listener);\n  session.on('Target.attachedToTarget', listener);\n  const detachedListener = event => {\n    return __classPrivateFieldGet(this, _ChromeTargetManager_onDetachedFromTarget, \"f\").call(this, session, event);\n  };\n  assert(!__classPrivateFieldGet(this, _ChromeTargetManager_detachedFromTargetListenersBySession, \"f\").has(session));\n  __classPrivateFieldGet(this, _ChromeTargetManager_detachedFromTargetListenersBySession, \"f\").set(session, detachedListener);\n  session.on('Target.detachedFromTarget', detachedListener);\n}, _ChromeTargetManager_removeAttachmentListeners = function _ChromeTargetManager_removeAttachmentListeners(session) {\n  if (__classPrivateFieldGet(this, _ChromeTargetManager_attachedToTargetListenersBySession, \"f\").has(session)) {\n    session.off('Target.attachedToTarget', __classPrivateFieldGet(this, _ChromeTargetManager_attachedToTargetListenersBySession, \"f\").get(session));\n    __classPrivateFieldGet(this, _ChromeTargetManager_attachedToTargetListenersBySession, \"f\").delete(session);\n  }\n  if (__classPrivateFieldGet(this, _ChromeTargetManager_detachedFromTargetListenersBySession, \"f\").has(session)) {\n    session.off('Target.detachedFromTarget', __classPrivateFieldGet(this, _ChromeTargetManager_detachedFromTargetListenersBySession, \"f\").get(session));\n    __classPrivateFieldGet(this, _ChromeTargetManager_detachedFromTargetListenersBySession, \"f\").delete(session);\n  }\n}, _ChromeTargetManager_finishInitializationIfReady = function _ChromeTargetManager_finishInitializationIfReady(targetId) {\n  targetId !== undefined && __classPrivateFieldGet(this, _ChromeTargetManager_targetsIdsForInit, \"f\").delete(targetId);\n  if (__classPrivateFieldGet(this, _ChromeTargetManager_targetsIdsForInit, \"f\").size === 0) {\n    __classPrivateFieldGet(this, _ChromeTargetManager_initializePromise, \"f\").resolve();\n  }\n};","map":{"version":3,"names":["assert","createDeferredPromise","Connection","EventEmitter","debugError","ChromeTargetManager","constructor","connection","targetFactory","targetFilterCallback","_ChromeTargetManager_connection","set","_ChromeTargetManager_discoveredTargetsByTargetId","Map","_ChromeTargetManager_attachedTargetsByTargetId","_ChromeTargetManager_attachedTargetsBySessionId","_ChromeTargetManager_ignoredTargets","Set","_ChromeTargetManager_targetFilterCallback","_ChromeTargetManager_targetFactory","_ChromeTargetManager_targetInterceptors","WeakMap","_ChromeTargetManager_attachedToTargetListenersBySession","_ChromeTargetManager_detachedFromTargetListenersBySession","_ChromeTargetManager_initializePromise","_ChromeTargetManager_targetsIdsForInit","_ChromeTargetManager_storeExistingTargetsForInit","targetId","targetInfo","__classPrivateFieldGet","entries","call","type","add","_ChromeTargetManager_onSessionDetached","session","_ChromeTargetManager_instances","_ChromeTargetManager_removeAttachmentListeners","delete","_ChromeTargetManager_onTargetCreated","event","emit","attached","has","target","undefined","_ChromeTargetManager_onTargetDestroyed","get","_ChromeTargetManager_finishInitializationIfReady","_ChromeTargetManager_onTargetInfoChanged","_ChromeTargetManager_onAttachedToTarget","parentSession","sessionId","Error","silentDetach","send","catch","id","isAutoAttached","existingTarget","_ChromeTargetManager_setupAttachmentListeners","interceptor","_targetId","Promise","all","waitForDebuggerOnStart","flatten","autoAttach","_ChromeTargetManager_onDetachedFromTarget","_parentSession","__classPrivateFieldSet","on","discover","filter","exclude","then","initialize","dispose","off","getAvailableTargets","addTargetInterceptor","interceptors","push","removeTargetInterceptor","client","currentInterceptor","listener","detachedListener","size","resolve"],"sources":["../../../../src/common/ChromeTargetManager.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}