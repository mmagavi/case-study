{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2017 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar _CDPPage_instances, _CDPPage_closed, _CDPPage_client, _CDPPage_target, _CDPPage_keyboard, _CDPPage_mouse, _CDPPage_timeoutSettings, _CDPPage_touchscreen, _CDPPage_accessibility, _CDPPage_frameManager, _CDPPage_emulationManager, _CDPPage_tracing, _CDPPage_bindings, _CDPPage_coverage, _CDPPage_javascriptEnabled, _CDPPage_viewport, _CDPPage_screenshotTaskQueue, _CDPPage_workers, _CDPPage_fileChooserPromises, _CDPPage_disconnectPromise, _CDPPage_userDragInterceptionEnabled, _CDPPage_onDetachedFromTarget, _CDPPage_onAttachedToTarget, _CDPPage_initialize, _CDPPage_onFileChooser, _CDPPage_onTargetCrashed, _CDPPage_onLogEntryAdded, _CDPPage_emitMetrics, _CDPPage_buildMetricsObject, _CDPPage_handleException, _CDPPage_onConsoleAPI, _CDPPage_onBindingCalled, _CDPPage_addConsoleMessage, _CDPPage_onDialog, _CDPPage_resetDefaultBackgroundColor, _CDPPage_setTransparentBackgroundColor, _CDPPage_sessionClosePromise, _CDPPage_go, _CDPPage_screenshotTask;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CDPPage = void 0;\nconst Page_js_1 = require(\"../api/Page.js\");\nconst assert_js_1 = require(\"../util/assert.js\");\nconst DeferredPromise_js_1 = require(\"../util/DeferredPromise.js\");\nconst ErrorLike_js_1 = require(\"../util/ErrorLike.js\");\nconst Accessibility_js_1 = require(\"./Accessibility.js\");\nconst Binding_js_1 = require(\"./Binding.js\");\nconst Connection_js_1 = require(\"./Connection.js\");\nconst ConsoleMessage_js_1 = require(\"./ConsoleMessage.js\");\nconst Coverage_js_1 = require(\"./Coverage.js\");\nconst Dialog_js_1 = require(\"./Dialog.js\");\nconst EmulationManager_js_1 = require(\"./EmulationManager.js\");\nconst FileChooser_js_1 = require(\"./FileChooser.js\");\nconst FrameManager_js_1 = require(\"./FrameManager.js\");\nconst Input_js_1 = require(\"./Input.js\");\nconst IsolatedWorlds_js_1 = require(\"./IsolatedWorlds.js\");\nconst NetworkManager_js_1 = require(\"./NetworkManager.js\");\nconst TimeoutSettings_js_1 = require(\"./TimeoutSettings.js\");\nconst Tracing_js_1 = require(\"./Tracing.js\");\nconst util_js_1 = require(\"./util.js\");\nconst WebWorker_js_1 = require(\"./WebWorker.js\");\n/**\n * @internal\n */\nclass CDPPage extends Page_js_1.Page {\n  /**\n   * @internal\n   */\n  static async _create(client, target, ignoreHTTPSErrors, defaultViewport, screenshotTaskQueue) {\n    const page = new CDPPage(client, target, ignoreHTTPSErrors, screenshotTaskQueue);\n    await __classPrivateFieldGet(page, _CDPPage_instances, \"m\", _CDPPage_initialize).call(page);\n    if (defaultViewport) {\n      try {\n        await page.setViewport(defaultViewport);\n      } catch (err) {\n        if ((0, ErrorLike_js_1.isErrorLike)(err) && (0, Connection_js_1.isTargetClosedError)(err)) {\n          (0, util_js_1.debugError)(err);\n        } else {\n          throw err;\n        }\n      }\n    }\n    return page;\n  }\n  /**\n   * @internal\n   */\n  constructor(client, target, ignoreHTTPSErrors, screenshotTaskQueue) {\n    super();\n    _CDPPage_instances.add(this);\n    _CDPPage_closed.set(this, false);\n    _CDPPage_client.set(this, void 0);\n    _CDPPage_target.set(this, void 0);\n    _CDPPage_keyboard.set(this, void 0);\n    _CDPPage_mouse.set(this, void 0);\n    _CDPPage_timeoutSettings.set(this, new TimeoutSettings_js_1.TimeoutSettings());\n    _CDPPage_touchscreen.set(this, void 0);\n    _CDPPage_accessibility.set(this, void 0);\n    _CDPPage_frameManager.set(this, void 0);\n    _CDPPage_emulationManager.set(this, void 0);\n    _CDPPage_tracing.set(this, void 0);\n    _CDPPage_bindings.set(this, new Map());\n    _CDPPage_coverage.set(this, void 0);\n    _CDPPage_javascriptEnabled.set(this, true);\n    _CDPPage_viewport.set(this, void 0);\n    _CDPPage_screenshotTaskQueue.set(this, void 0);\n    _CDPPage_workers.set(this, new Map());\n    _CDPPage_fileChooserPromises.set(this, new Set());\n    _CDPPage_disconnectPromise.set(this, void 0);\n    _CDPPage_userDragInterceptionEnabled.set(this, false);\n    _CDPPage_onDetachedFromTarget.set(this, target => {\n      var _a;\n      const sessionId = (_a = target._session()) === null || _a === void 0 ? void 0 : _a.id();\n      const worker = __classPrivateFieldGet(this, _CDPPage_workers, \"f\").get(sessionId);\n      if (!worker) {\n        return;\n      }\n      __classPrivateFieldGet(this, _CDPPage_workers, \"f\").delete(sessionId);\n      this.emit(\"workerdestroyed\" /* PageEmittedEvents.WorkerDestroyed */, worker);\n    });\n    _CDPPage_onAttachedToTarget.set(this, createdTarget => {\n      __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").onAttachedToTarget(createdTarget);\n      if (createdTarget._getTargetInfo().type === 'worker') {\n        const session = createdTarget._session();\n        (0, assert_js_1.assert)(session);\n        const worker = new WebWorker_js_1.WebWorker(session, createdTarget.url(), __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_addConsoleMessage).bind(this), __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_handleException).bind(this));\n        __classPrivateFieldGet(this, _CDPPage_workers, \"f\").set(session.id(), worker);\n        this.emit(\"workercreated\" /* PageEmittedEvents.WorkerCreated */, worker);\n      }\n      if (createdTarget._session()) {\n        __classPrivateFieldGet(this, _CDPPage_target, \"f\")._targetManager().addTargetInterceptor(createdTarget._session(), __classPrivateFieldGet(this, _CDPPage_onAttachedToTarget, \"f\"));\n      }\n    });\n    __classPrivateFieldSet(this, _CDPPage_client, client, \"f\");\n    __classPrivateFieldSet(this, _CDPPage_target, target, \"f\");\n    __classPrivateFieldSet(this, _CDPPage_keyboard, new Input_js_1.Keyboard(client), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_mouse, new Input_js_1.Mouse(client, __classPrivateFieldGet(this, _CDPPage_keyboard, \"f\")), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_touchscreen, new Input_js_1.Touchscreen(client, __classPrivateFieldGet(this, _CDPPage_keyboard, \"f\")), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_accessibility, new Accessibility_js_1.Accessibility(client), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_frameManager, new FrameManager_js_1.FrameManager(client, this, ignoreHTTPSErrors, __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\")), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_emulationManager, new EmulationManager_js_1.EmulationManager(client), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_tracing, new Tracing_js_1.Tracing(client), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_coverage, new Coverage_js_1.Coverage(client), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_screenshotTaskQueue, screenshotTaskQueue, \"f\");\n    __classPrivateFieldSet(this, _CDPPage_viewport, null, \"f\");\n    __classPrivateFieldGet(this, _CDPPage_target, \"f\")._targetManager().addTargetInterceptor(__classPrivateFieldGet(this, _CDPPage_client, \"f\"), __classPrivateFieldGet(this, _CDPPage_onAttachedToTarget, \"f\"));\n    __classPrivateFieldGet(this, _CDPPage_target, \"f\")._targetManager().on(\"targetGone\" /* TargetManagerEmittedEvents.TargetGone */, __classPrivateFieldGet(this, _CDPPage_onDetachedFromTarget, \"f\"));\n    __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").on(FrameManager_js_1.FrameManagerEmittedEvents.FrameAttached, event => {\n      return this.emit(\"frameattached\" /* PageEmittedEvents.FrameAttached */, event);\n    });\n    __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").on(FrameManager_js_1.FrameManagerEmittedEvents.FrameDetached, event => {\n      return this.emit(\"framedetached\" /* PageEmittedEvents.FrameDetached */, event);\n    });\n    __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").on(FrameManager_js_1.FrameManagerEmittedEvents.FrameNavigated, event => {\n      return this.emit(\"framenavigated\" /* PageEmittedEvents.FrameNavigated */, event);\n    });\n    const networkManager = __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager;\n    networkManager.on(NetworkManager_js_1.NetworkManagerEmittedEvents.Request, event => {\n      return this.emit(\"request\" /* PageEmittedEvents.Request */, event);\n    });\n    networkManager.on(NetworkManager_js_1.NetworkManagerEmittedEvents.RequestServedFromCache, event => {\n      return this.emit(\"requestservedfromcache\" /* PageEmittedEvents.RequestServedFromCache */, event);\n    });\n    networkManager.on(NetworkManager_js_1.NetworkManagerEmittedEvents.Response, event => {\n      return this.emit(\"response\" /* PageEmittedEvents.Response */, event);\n    });\n    networkManager.on(NetworkManager_js_1.NetworkManagerEmittedEvents.RequestFailed, event => {\n      return this.emit(\"requestfailed\" /* PageEmittedEvents.RequestFailed */, event);\n    });\n    networkManager.on(NetworkManager_js_1.NetworkManagerEmittedEvents.RequestFinished, event => {\n      return this.emit(\"requestfinished\" /* PageEmittedEvents.RequestFinished */, event);\n    });\n    client.on('Page.domContentEventFired', () => {\n      return this.emit(\"domcontentloaded\" /* PageEmittedEvents.DOMContentLoaded */);\n    });\n\n    client.on('Page.loadEventFired', () => {\n      return this.emit(\"load\" /* PageEmittedEvents.Load */);\n    });\n\n    client.on('Runtime.consoleAPICalled', event => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_onConsoleAPI).call(this, event);\n    });\n    client.on('Runtime.bindingCalled', event => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_onBindingCalled).call(this, event);\n    });\n    client.on('Page.javascriptDialogOpening', event => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_onDialog).call(this, event);\n    });\n    client.on('Runtime.exceptionThrown', exception => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_handleException).call(this, exception.exceptionDetails);\n    });\n    client.on('Inspector.targetCrashed', () => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_onTargetCrashed).call(this);\n    });\n    client.on('Performance.metrics', event => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_emitMetrics).call(this, event);\n    });\n    client.on('Log.entryAdded', event => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_onLogEntryAdded).call(this, event);\n    });\n    client.on('Page.fileChooserOpened', event => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_onFileChooser).call(this, event);\n    });\n    __classPrivateFieldGet(this, _CDPPage_target, \"f\")._isClosedPromise.then(() => {\n      __classPrivateFieldGet(this, _CDPPage_target, \"f\")._targetManager().removeTargetInterceptor(__classPrivateFieldGet(this, _CDPPage_client, \"f\"), __classPrivateFieldGet(this, _CDPPage_onAttachedToTarget, \"f\"));\n      __classPrivateFieldGet(this, _CDPPage_target, \"f\")._targetManager().off(\"targetGone\" /* TargetManagerEmittedEvents.TargetGone */, __classPrivateFieldGet(this, _CDPPage_onDetachedFromTarget, \"f\"));\n      this.emit(\"close\" /* PageEmittedEvents.Close */);\n      __classPrivateFieldSet(this, _CDPPage_closed, true, \"f\");\n    });\n  }\n  /**\n   * @internal\n   */\n  _client() {\n    return __classPrivateFieldGet(this, _CDPPage_client, \"f\");\n  }\n  isDragInterceptionEnabled() {\n    return __classPrivateFieldGet(this, _CDPPage_userDragInterceptionEnabled, \"f\");\n  }\n  isJavaScriptEnabled() {\n    return __classPrivateFieldGet(this, _CDPPage_javascriptEnabled, \"f\");\n  }\n  waitForFileChooser(options = {}) {\n    const needsEnable = __classPrivateFieldGet(this, _CDPPage_fileChooserPromises, \"f\").size === 0;\n    const {\n      timeout = __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").timeout()\n    } = options;\n    const promise = (0, DeferredPromise_js_1.createDeferredPromise)({\n      message: `Waiting for \\`FileChooser\\` failed: ${timeout}ms exceeded`,\n      timeout\n    });\n    __classPrivateFieldGet(this, _CDPPage_fileChooserPromises, \"f\").add(promise);\n    let enablePromise;\n    if (needsEnable) {\n      enablePromise = __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.setInterceptFileChooserDialog', {\n        enabled: true\n      });\n    }\n    return Promise.all([promise, enablePromise]).then(([result]) => {\n      return result;\n    }).catch(error => {\n      __classPrivateFieldGet(this, _CDPPage_fileChooserPromises, \"f\").delete(promise);\n      throw error;\n    });\n  }\n  async setGeolocation(options) {\n    const {\n      longitude,\n      latitude,\n      accuracy = 0\n    } = options;\n    if (longitude < -180 || longitude > 180) {\n      throw new Error(`Invalid longitude \"${longitude}\": precondition -180 <= LONGITUDE <= 180 failed.`);\n    }\n    if (latitude < -90 || latitude > 90) {\n      throw new Error(`Invalid latitude \"${latitude}\": precondition -90 <= LATITUDE <= 90 failed.`);\n    }\n    if (accuracy < 0) {\n      throw new Error(`Invalid accuracy \"${accuracy}\": precondition 0 <= ACCURACY failed.`);\n    }\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setGeolocationOverride', {\n      longitude,\n      latitude,\n      accuracy\n    });\n  }\n  target() {\n    return __classPrivateFieldGet(this, _CDPPage_target, \"f\");\n  }\n  browser() {\n    return __classPrivateFieldGet(this, _CDPPage_target, \"f\").browser();\n  }\n  browserContext() {\n    return __classPrivateFieldGet(this, _CDPPage_target, \"f\").browserContext();\n  }\n  mainFrame() {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").mainFrame();\n  }\n  get keyboard() {\n    return __classPrivateFieldGet(this, _CDPPage_keyboard, \"f\");\n  }\n  get touchscreen() {\n    return __classPrivateFieldGet(this, _CDPPage_touchscreen, \"f\");\n  }\n  get coverage() {\n    return __classPrivateFieldGet(this, _CDPPage_coverage, \"f\");\n  }\n  get tracing() {\n    return __classPrivateFieldGet(this, _CDPPage_tracing, \"f\");\n  }\n  get accessibility() {\n    return __classPrivateFieldGet(this, _CDPPage_accessibility, \"f\");\n  }\n  frames() {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").frames();\n  }\n  workers() {\n    return Array.from(__classPrivateFieldGet(this, _CDPPage_workers, \"f\").values());\n  }\n  async setRequestInterception(value) {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager.setRequestInterception(value);\n  }\n  async setDragInterception(enabled) {\n    __classPrivateFieldSet(this, _CDPPage_userDragInterceptionEnabled, enabled, \"f\");\n    return __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Input.setInterceptDrags', {\n      enabled\n    });\n  }\n  setOfflineMode(enabled) {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager.setOfflineMode(enabled);\n  }\n  emulateNetworkConditions(networkConditions) {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager.emulateNetworkConditions(networkConditions);\n  }\n  setDefaultNavigationTimeout(timeout) {\n    __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").setDefaultNavigationTimeout(timeout);\n  }\n  setDefaultTimeout(timeout) {\n    __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").setDefaultTimeout(timeout);\n  }\n  getDefaultTimeout() {\n    return __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").timeout();\n  }\n  async $(selector) {\n    return this.mainFrame().$(selector);\n  }\n  async $$(selector) {\n    return this.mainFrame().$$(selector);\n  }\n  async evaluateHandle(pageFunction, ...args) {\n    const context = await this.mainFrame().executionContext();\n    return context.evaluateHandle(pageFunction, ...args);\n  }\n  async queryObjects(prototypeHandle) {\n    const context = await this.mainFrame().executionContext();\n    (0, assert_js_1.assert)(!prototypeHandle.disposed, 'Prototype JSHandle is disposed!');\n    (0, assert_js_1.assert)(prototypeHandle.id, 'Prototype JSHandle must not be referencing primitive value');\n    const response = await context._client.send('Runtime.queryObjects', {\n      prototypeObjectId: prototypeHandle.id\n    });\n    return (0, util_js_1.createJSHandle)(context, response.objects);\n  }\n  async $eval(selector, pageFunction, ...args) {\n    return this.mainFrame().$eval(selector, pageFunction, ...args);\n  }\n  async $$eval(selector, pageFunction, ...args) {\n    return this.mainFrame().$$eval(selector, pageFunction, ...args);\n  }\n  async $x(expression) {\n    return this.mainFrame().$x(expression);\n  }\n  async cookies(...urls) {\n    const originalCookies = (await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Network.getCookies', {\n      urls: urls.length ? urls : [this.url()]\n    })).cookies;\n    const unsupportedCookieAttributes = ['priority'];\n    const filterUnsupportedAttributes = cookie => {\n      for (const attr of unsupportedCookieAttributes) {\n        delete cookie[attr];\n      }\n      return cookie;\n    };\n    return originalCookies.map(filterUnsupportedAttributes);\n  }\n  async deleteCookie(...cookies) {\n    const pageURL = this.url();\n    for (const cookie of cookies) {\n      const item = Object.assign({}, cookie);\n      if (!cookie.url && pageURL.startsWith('http')) {\n        item.url = pageURL;\n      }\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Network.deleteCookies', item);\n    }\n  }\n  async setCookie(...cookies) {\n    const pageURL = this.url();\n    const startsWithHTTP = pageURL.startsWith('http');\n    const items = cookies.map(cookie => {\n      const item = Object.assign({}, cookie);\n      if (!item.url && startsWithHTTP) {\n        item.url = pageURL;\n      }\n      (0, assert_js_1.assert)(item.url !== 'about:blank', `Blank page can not have cookie \"${item.name}\"`);\n      (0, assert_js_1.assert)(!String.prototype.startsWith.call(item.url || '', 'data:'), `Data URL page can not have cookie \"${item.name}\"`);\n      return item;\n    });\n    await this.deleteCookie(...items);\n    if (items.length) {\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Network.setCookies', {\n        cookies: items\n      });\n    }\n  }\n  async addScriptTag(options) {\n    return this.mainFrame().addScriptTag(options);\n  }\n  async addStyleTag(options) {\n    return this.mainFrame().addStyleTag(options);\n  }\n  async exposeFunction(name, pptrFunction) {\n    if (__classPrivateFieldGet(this, _CDPPage_bindings, \"f\").has(name)) {\n      throw new Error(`Failed to add page binding with name ${name}: window['${name}'] already exists!`);\n    }\n    let binding;\n    switch (typeof pptrFunction) {\n      case 'function':\n        binding = new Binding_js_1.Binding(name, pptrFunction);\n        break;\n      default:\n        binding = new Binding_js_1.Binding(name, pptrFunction.default);\n        break;\n    }\n    __classPrivateFieldGet(this, _CDPPage_bindings, \"f\").set(name, binding);\n    const expression = (0, util_js_1.pageBindingInitString)('exposedFun', name);\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Runtime.addBinding', {\n      name: name\n    });\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.addScriptToEvaluateOnNewDocument', {\n      source: expression\n    });\n    await Promise.all(this.frames().map(frame => {\n      return frame.evaluate(expression).catch(util_js_1.debugError);\n    }));\n  }\n  async authenticate(credentials) {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager.authenticate(credentials);\n  }\n  async setExtraHTTPHeaders(headers) {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager.setExtraHTTPHeaders(headers);\n  }\n  async setUserAgent(userAgent, userAgentMetadata) {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager.setUserAgent(userAgent, userAgentMetadata);\n  }\n  async metrics() {\n    const response = await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Performance.getMetrics');\n    return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_buildMetricsObject).call(this, response.metrics);\n  }\n  url() {\n    return this.mainFrame().url();\n  }\n  async content() {\n    return await __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").mainFrame().content();\n  }\n  async setContent(html, options = {}) {\n    await __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").mainFrame().setContent(html, options);\n  }\n  async goto(url, options = {}) {\n    return await __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").mainFrame().goto(url, options);\n  }\n  async reload(options) {\n    const result = await Promise.all([this.waitForNavigation(options), __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.reload')]);\n    return result[0];\n  }\n  async waitForNavigation(options = {}) {\n    return await __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").mainFrame().waitForNavigation(options);\n  }\n  async waitForRequest(urlOrPredicate, options = {}) {\n    const {\n      timeout = __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").timeout()\n    } = options;\n    return (0, util_js_1.waitForEvent)(__classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager, NetworkManager_js_1.NetworkManagerEmittedEvents.Request, async request => {\n      if ((0, util_js_1.isString)(urlOrPredicate)) {\n        return urlOrPredicate === request.url();\n      }\n      if (typeof urlOrPredicate === 'function') {\n        return !!(await urlOrPredicate(request));\n      }\n      return false;\n    }, timeout, __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_sessionClosePromise).call(this));\n  }\n  async waitForResponse(urlOrPredicate, options = {}) {\n    const {\n      timeout = __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").timeout()\n    } = options;\n    return (0, util_js_1.waitForEvent)(__classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager, NetworkManager_js_1.NetworkManagerEmittedEvents.Response, async response => {\n      if ((0, util_js_1.isString)(urlOrPredicate)) {\n        return urlOrPredicate === response.url();\n      }\n      if (typeof urlOrPredicate === 'function') {\n        return !!(await urlOrPredicate(response));\n      }\n      return false;\n    }, timeout, __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_sessionClosePromise).call(this));\n  }\n  async waitForNetworkIdle(options = {}) {\n    const {\n      idleTime = 500,\n      timeout = __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").timeout()\n    } = options;\n    const networkManager = __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager;\n    const idlePromise = (0, DeferredPromise_js_1.createDeferredPromise)();\n    let abortRejectCallback;\n    const abortPromise = new Promise((_, reject) => {\n      abortRejectCallback = reject;\n    });\n    let idleTimer;\n    const cleanup = () => {\n      idleTimer && clearTimeout(idleTimer);\n      abortRejectCallback(new Error('abort'));\n    };\n    const evaluate = () => {\n      idleTimer && clearTimeout(idleTimer);\n      if (networkManager.numRequestsInProgress() === 0) {\n        idleTimer = setTimeout(idlePromise.resolve, idleTime);\n      }\n    };\n    evaluate();\n    const eventHandler = () => {\n      evaluate();\n      return false;\n    };\n    const listenToEvent = event => {\n      return (0, util_js_1.waitForEvent)(networkManager, event, eventHandler, timeout, abortPromise);\n    };\n    const eventPromises = [listenToEvent(NetworkManager_js_1.NetworkManagerEmittedEvents.Request), listenToEvent(NetworkManager_js_1.NetworkManagerEmittedEvents.Response), listenToEvent(NetworkManager_js_1.NetworkManagerEmittedEvents.RequestFailed)];\n    await Promise.race([idlePromise, ...eventPromises, __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_sessionClosePromise).call(this)]).then(r => {\n      cleanup();\n      return r;\n    }, error => {\n      cleanup();\n      throw error;\n    });\n  }\n  async waitForFrame(urlOrPredicate, options = {}) {\n    const {\n      timeout = __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").timeout()\n    } = options;\n    let predicate;\n    if ((0, util_js_1.isString)(urlOrPredicate)) {\n      predicate = frame => {\n        return Promise.resolve(urlOrPredicate === frame.url());\n      };\n    } else {\n      predicate = frame => {\n        const value = urlOrPredicate(frame);\n        if (typeof value === 'boolean') {\n          return Promise.resolve(value);\n        }\n        return value;\n      };\n    }\n    const eventRace = Promise.race([(0, util_js_1.waitForEvent)(__classPrivateFieldGet(this, _CDPPage_frameManager, \"f\"), FrameManager_js_1.FrameManagerEmittedEvents.FrameAttached, predicate, timeout, __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_sessionClosePromise).call(this)), (0, util_js_1.waitForEvent)(__classPrivateFieldGet(this, _CDPPage_frameManager, \"f\"), FrameManager_js_1.FrameManagerEmittedEvents.FrameNavigated, predicate, timeout, __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_sessionClosePromise).call(this)), ...this.frames().map(async frame => {\n      if (await predicate(frame)) {\n        return frame;\n      }\n      return await eventRace;\n    })]);\n    return eventRace;\n  }\n  async goBack(options = {}) {\n    return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_go).call(this, -1, options);\n  }\n  async goForward(options = {}) {\n    return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_go).call(this, +1, options);\n  }\n  async bringToFront() {\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.bringToFront');\n  }\n  async setJavaScriptEnabled(enabled) {\n    if (__classPrivateFieldGet(this, _CDPPage_javascriptEnabled, \"f\") === enabled) {\n      return;\n    }\n    __classPrivateFieldSet(this, _CDPPage_javascriptEnabled, enabled, \"f\");\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setScriptExecutionDisabled', {\n      value: !enabled\n    });\n  }\n  async setBypassCSP(enabled) {\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.setBypassCSP', {\n      enabled\n    });\n  }\n  async emulateMediaType(type) {\n    (0, assert_js_1.assert)(type === 'screen' || type === 'print' || (type !== null && type !== void 0 ? type : undefined) === undefined, 'Unsupported media type: ' + type);\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setEmulatedMedia', {\n      media: type || ''\n    });\n  }\n  async emulateCPUThrottling(factor) {\n    (0, assert_js_1.assert)(factor === null || factor >= 1, 'Throttling rate should be greater or equal to 1');\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setCPUThrottlingRate', {\n      rate: factor !== null ? factor : 1\n    });\n  }\n  async emulateMediaFeatures(features) {\n    if (!features) {\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setEmulatedMedia', {});\n    }\n    if (Array.isArray(features)) {\n      for (const mediaFeature of features) {\n        const name = mediaFeature.name;\n        (0, assert_js_1.assert)(/^(?:prefers-(?:color-scheme|reduced-motion)|color-gamut)$/.test(name), 'Unsupported media feature: ' + name);\n      }\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setEmulatedMedia', {\n        features: features\n      });\n    }\n  }\n  async emulateTimezone(timezoneId) {\n    try {\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setTimezoneOverride', {\n        timezoneId: timezoneId || ''\n      });\n    } catch (error) {\n      if ((0, ErrorLike_js_1.isErrorLike)(error) && error.message.includes('Invalid timezone')) {\n        throw new Error(`Invalid timezone ID: ${timezoneId}`);\n      }\n      throw error;\n    }\n  }\n  async emulateIdleState(overrides) {\n    if (overrides) {\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setIdleOverride', {\n        isUserActive: overrides.isUserActive,\n        isScreenUnlocked: overrides.isScreenUnlocked\n      });\n    } else {\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.clearIdleOverride');\n    }\n  }\n  async emulateVisionDeficiency(type) {\n    const visionDeficiencies = new Set(['none', 'achromatopsia', 'blurredVision', 'deuteranopia', 'protanopia', 'tritanopia']);\n    try {\n      (0, assert_js_1.assert)(!type || visionDeficiencies.has(type), `Unsupported vision deficiency: ${type}`);\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setEmulatedVisionDeficiency', {\n        type: type || 'none'\n      });\n    } catch (error) {\n      throw error;\n    }\n  }\n  async setViewport(viewport) {\n    const needsReload = await __classPrivateFieldGet(this, _CDPPage_emulationManager, \"f\").emulateViewport(viewport);\n    __classPrivateFieldSet(this, _CDPPage_viewport, viewport, \"f\");\n    if (needsReload) {\n      await this.reload();\n    }\n  }\n  viewport() {\n    return __classPrivateFieldGet(this, _CDPPage_viewport, \"f\");\n  }\n  async evaluate(pageFunction, ...args) {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").mainFrame().evaluate(pageFunction, ...args);\n  }\n  async evaluateOnNewDocument(pageFunction, ...args) {\n    const source = (0, util_js_1.evaluationString)(pageFunction, ...args);\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.addScriptToEvaluateOnNewDocument', {\n      source\n    });\n  }\n  async setCacheEnabled(enabled = true) {\n    await __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager.setCacheEnabled(enabled);\n  }\n  async screenshot(options = {}) {\n    let screenshotType = \"png\" /* Protocol.Page.CaptureScreenshotRequestFormat.Png */;\n    // options.type takes precedence over inferring the type from options.path\n    // because it may be a 0-length file with no extension created beforehand\n    // (i.e. as a temp file).\n    if (options.type) {\n      screenshotType = options.type;\n    } else if (options.path) {\n      const filePath = options.path;\n      const extension = filePath.slice(filePath.lastIndexOf('.') + 1).toLowerCase();\n      switch (extension) {\n        case 'png':\n          screenshotType = \"png\" /* Protocol.Page.CaptureScreenshotRequestFormat.Png */;\n          break;\n        case 'jpeg':\n        case 'jpg':\n          screenshotType = \"jpeg\" /* Protocol.Page.CaptureScreenshotRequestFormat.Jpeg */;\n          break;\n        case 'webp':\n          screenshotType = \"webp\" /* Protocol.Page.CaptureScreenshotRequestFormat.Webp */;\n          break;\n        default:\n          throw new Error(`Unsupported screenshot type for extension \\`.${extension}\\``);\n      }\n    }\n    if (options.quality) {\n      (0, assert_js_1.assert)(screenshotType === \"jpeg\" /* Protocol.Page.CaptureScreenshotRequestFormat.Jpeg */ || screenshotType === \"webp\" /* Protocol.Page.CaptureScreenshotRequestFormat.Webp */, 'options.quality is unsupported for the ' + screenshotType + ' screenshots');\n      (0, assert_js_1.assert)(typeof options.quality === 'number', 'Expected options.quality to be a number but found ' + typeof options.quality);\n      (0, assert_js_1.assert)(Number.isInteger(options.quality), 'Expected options.quality to be an integer');\n      (0, assert_js_1.assert)(options.quality >= 0 && options.quality <= 100, 'Expected options.quality to be between 0 and 100 (inclusive), got ' + options.quality);\n    }\n    (0, assert_js_1.assert)(!options.clip || !options.fullPage, 'options.clip and options.fullPage are exclusive');\n    if (options.clip) {\n      (0, assert_js_1.assert)(typeof options.clip.x === 'number', 'Expected options.clip.x to be a number but found ' + typeof options.clip.x);\n      (0, assert_js_1.assert)(typeof options.clip.y === 'number', 'Expected options.clip.y to be a number but found ' + typeof options.clip.y);\n      (0, assert_js_1.assert)(typeof options.clip.width === 'number', 'Expected options.clip.width to be a number but found ' + typeof options.clip.width);\n      (0, assert_js_1.assert)(typeof options.clip.height === 'number', 'Expected options.clip.height to be a number but found ' + typeof options.clip.height);\n      (0, assert_js_1.assert)(options.clip.width !== 0, 'Expected options.clip.width not to be 0.');\n      (0, assert_js_1.assert)(options.clip.height !== 0, 'Expected options.clip.height not to be 0.');\n    }\n    return __classPrivateFieldGet(this, _CDPPage_screenshotTaskQueue, \"f\").postTask(() => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_screenshotTask).call(this, screenshotType, options);\n    });\n  }\n  async createPDFStream(options = {}) {\n    const {\n      landscape,\n      displayHeaderFooter,\n      headerTemplate,\n      footerTemplate,\n      printBackground,\n      scale,\n      width: paperWidth,\n      height: paperHeight,\n      margin,\n      pageRanges,\n      preferCSSPageSize,\n      omitBackground,\n      timeout\n    } = this._getPDFOptions(options);\n    if (omitBackground) {\n      await __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_setTransparentBackgroundColor).call(this);\n    }\n    const printCommandPromise = __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.printToPDF', {\n      transferMode: 'ReturnAsStream',\n      landscape,\n      displayHeaderFooter,\n      headerTemplate,\n      footerTemplate,\n      printBackground,\n      scale,\n      paperWidth,\n      paperHeight,\n      marginTop: margin.top,\n      marginBottom: margin.bottom,\n      marginLeft: margin.left,\n      marginRight: margin.right,\n      pageRanges,\n      preferCSSPageSize\n    });\n    const result = await (0, util_js_1.waitWithTimeout)(printCommandPromise, 'Page.printToPDF', timeout);\n    if (omitBackground) {\n      await __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_resetDefaultBackgroundColor).call(this);\n    }\n    (0, assert_js_1.assert)(result.stream, '`stream` is missing from `Page.printToPDF');\n    return (0, util_js_1.getReadableFromProtocolStream)(__classPrivateFieldGet(this, _CDPPage_client, \"f\"), result.stream);\n  }\n  async pdf(options = {}) {\n    const {\n      path = undefined\n    } = options;\n    const readable = await this.createPDFStream(options);\n    const buffer = await (0, util_js_1.getReadableAsBuffer)(readable, path);\n    (0, assert_js_1.assert)(buffer, 'Could not create buffer');\n    return buffer;\n  }\n  async title() {\n    return this.mainFrame().title();\n  }\n  async close(options = {\n    runBeforeUnload: undefined\n  }) {\n    const connection = __classPrivateFieldGet(this, _CDPPage_client, \"f\").connection();\n    (0, assert_js_1.assert)(connection, 'Protocol error: Connection closed. Most likely the page has been closed.');\n    const runBeforeUnload = !!options.runBeforeUnload;\n    if (runBeforeUnload) {\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.close');\n    } else {\n      await connection.send('Target.closeTarget', {\n        targetId: __classPrivateFieldGet(this, _CDPPage_target, \"f\")._targetId\n      });\n      await __classPrivateFieldGet(this, _CDPPage_target, \"f\")._isClosedPromise;\n    }\n  }\n  isClosed() {\n    return __classPrivateFieldGet(this, _CDPPage_closed, \"f\");\n  }\n  get mouse() {\n    return __classPrivateFieldGet(this, _CDPPage_mouse, \"f\");\n  }\n  click(selector, options = {}) {\n    return this.mainFrame().click(selector, options);\n  }\n  focus(selector) {\n    return this.mainFrame().focus(selector);\n  }\n  hover(selector) {\n    return this.mainFrame().hover(selector);\n  }\n  select(selector, ...values) {\n    return this.mainFrame().select(selector, ...values);\n  }\n  tap(selector) {\n    return this.mainFrame().tap(selector);\n  }\n  type(selector, text, options) {\n    return this.mainFrame().type(selector, text, options);\n  }\n  waitForTimeout(milliseconds) {\n    return this.mainFrame().waitForTimeout(milliseconds);\n  }\n  async waitForSelector(selector, options = {}) {\n    return await this.mainFrame().waitForSelector(selector, options);\n  }\n  waitForXPath(xpath, options = {}) {\n    return this.mainFrame().waitForXPath(xpath, options);\n  }\n  waitForFunction(pageFunction, options = {}, ...args) {\n    return this.mainFrame().waitForFunction(pageFunction, options, ...args);\n  }\n  /**\n   * This method is typically coupled with an action that triggers a device\n   * request from an api such as WebBluetooth.\n   *\n   * :::caution\n   *\n   * This must be called before the device request is made. It will not return a\n   * currently active device prompt.\n   *\n   * :::\n   *\n   * @example\n   *\n   * ```ts\n   * const [devicePrompt] = Promise.all([\n   *   page.waitForDevicePrompt(),\n   *   page.click('#connect-bluetooth'),\n   * ]);\n   * await devicePrompt.select(\n   *   await devicePrompt.waitForDevice(({name}) => name.includes('My Device'))\n   * );\n   * ```\n   */\n  waitForDevicePrompt(options = {}) {\n    return this.mainFrame().waitForDevicePrompt(options);\n  }\n}\nexports.CDPPage = CDPPage;\n_CDPPage_closed = new WeakMap(), _CDPPage_client = new WeakMap(), _CDPPage_target = new WeakMap(), _CDPPage_keyboard = new WeakMap(), _CDPPage_mouse = new WeakMap(), _CDPPage_timeoutSettings = new WeakMap(), _CDPPage_touchscreen = new WeakMap(), _CDPPage_accessibility = new WeakMap(), _CDPPage_frameManager = new WeakMap(), _CDPPage_emulationManager = new WeakMap(), _CDPPage_tracing = new WeakMap(), _CDPPage_bindings = new WeakMap(), _CDPPage_coverage = new WeakMap(), _CDPPage_javascriptEnabled = new WeakMap(), _CDPPage_viewport = new WeakMap(), _CDPPage_screenshotTaskQueue = new WeakMap(), _CDPPage_workers = new WeakMap(), _CDPPage_fileChooserPromises = new WeakMap(), _CDPPage_disconnectPromise = new WeakMap(), _CDPPage_userDragInterceptionEnabled = new WeakMap(), _CDPPage_onDetachedFromTarget = new WeakMap(), _CDPPage_onAttachedToTarget = new WeakMap(), _CDPPage_instances = new WeakSet(), _CDPPage_initialize = async function _CDPPage_initialize() {\n  try {\n    await Promise.all([__classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").initialize(), __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Performance.enable'), __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Log.enable')]);\n  } catch (err) {\n    if ((0, ErrorLike_js_1.isErrorLike)(err) && (0, Connection_js_1.isTargetClosedError)(err)) {\n      (0, util_js_1.debugError)(err);\n    } else {\n      throw err;\n    }\n  }\n}, _CDPPage_onFileChooser = async function _CDPPage_onFileChooser(event) {\n  if (!__classPrivateFieldGet(this, _CDPPage_fileChooserPromises, \"f\").size) {\n    return;\n  }\n  const frame = __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").frame(event.frameId);\n  (0, assert_js_1.assert)(frame, 'This should never happen.');\n  // This is guaranteed to be an HTMLInputElement handle by the event.\n  const handle = await frame.worlds[IsolatedWorlds_js_1.MAIN_WORLD].adoptBackendNode(event.backendNodeId);\n  const fileChooser = new FileChooser_js_1.FileChooser(handle, event);\n  for (const promise of __classPrivateFieldGet(this, _CDPPage_fileChooserPromises, \"f\")) {\n    promise.resolve(fileChooser);\n  }\n  __classPrivateFieldGet(this, _CDPPage_fileChooserPromises, \"f\").clear();\n}, _CDPPage_onTargetCrashed = function _CDPPage_onTargetCrashed() {\n  this.emit('error', new Error('Page crashed!'));\n}, _CDPPage_onLogEntryAdded = function _CDPPage_onLogEntryAdded(event) {\n  const {\n    level,\n    text,\n    args,\n    source,\n    url,\n    lineNumber\n  } = event.entry;\n  if (args) {\n    args.map(arg => {\n      return (0, util_js_1.releaseObject)(__classPrivateFieldGet(this, _CDPPage_client, \"f\"), arg);\n    });\n  }\n  if (source !== 'worker') {\n    this.emit(\"console\" /* PageEmittedEvents.Console */, new ConsoleMessage_js_1.ConsoleMessage(level, text, [], [{\n      url,\n      lineNumber\n    }]));\n  }\n}, _CDPPage_emitMetrics = function _CDPPage_emitMetrics(event) {\n  this.emit(\"metrics\" /* PageEmittedEvents.Metrics */, {\n    title: event.title,\n    metrics: __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_buildMetricsObject).call(this, event.metrics)\n  });\n}, _CDPPage_buildMetricsObject = function _CDPPage_buildMetricsObject(metrics) {\n  const result = {};\n  for (const metric of metrics || []) {\n    if (supportedMetrics.has(metric.name)) {\n      result[metric.name] = metric.value;\n    }\n  }\n  return result;\n}, _CDPPage_handleException = function _CDPPage_handleException(exceptionDetails) {\n  const message = (0, util_js_1.getExceptionMessage)(exceptionDetails);\n  const err = new Error(message);\n  err.stack = ''; // Don't report clientside error with a node stack attached\n  this.emit(\"pageerror\" /* PageEmittedEvents.PageError */, err);\n}, _CDPPage_onConsoleAPI = async function _CDPPage_onConsoleAPI(event) {\n  if (event.executionContextId === 0) {\n    // DevTools protocol stores the last 1000 console messages. These\n    // messages are always reported even for removed execution contexts. In\n    // this case, they are marked with executionContextId = 0 and are\n    // reported upon enabling Runtime agent.\n    //\n    // Ignore these messages since:\n    // - there's no execution context we can use to operate with message\n    //   arguments\n    // - these messages are reported before Puppeteer clients can subscribe\n    //   to the 'console'\n    //   page event.\n    //\n    // @see https://github.com/puppeteer/puppeteer/issues/3865\n    return;\n  }\n  const context = __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").getExecutionContextById(event.executionContextId, __classPrivateFieldGet(this, _CDPPage_client, \"f\"));\n  if (!context) {\n    (0, util_js_1.debugError)(new Error(`ExecutionContext not found for a console message: ${JSON.stringify(event)}`));\n    return;\n  }\n  const values = event.args.map(arg => {\n    return (0, util_js_1.createJSHandle)(context, arg);\n  });\n  __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_addConsoleMessage).call(this, event.type, values, event.stackTrace);\n}, _CDPPage_onBindingCalled = async function _CDPPage_onBindingCalled(event) {\n  let payload;\n  try {\n    payload = JSON.parse(event.payload);\n  } catch {\n    // The binding was either called by something in the page or it was\n    // called before our wrapper was initialized.\n    return;\n  }\n  const {\n    type,\n    name,\n    seq,\n    args,\n    isTrivial\n  } = payload;\n  if (type !== 'exposedFun') {\n    return;\n  }\n  const context = __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").executionContextById(event.executionContextId, __classPrivateFieldGet(this, _CDPPage_client, \"f\"));\n  if (!context) {\n    return;\n  }\n  const binding = __classPrivateFieldGet(this, _CDPPage_bindings, \"f\").get(name);\n  await (binding === null || binding === void 0 ? void 0 : binding.run(context, seq, args, isTrivial));\n}, _CDPPage_addConsoleMessage = function _CDPPage_addConsoleMessage(eventType, args, stackTrace) {\n  if (!this.listenerCount(\"console\" /* PageEmittedEvents.Console */)) {\n    args.forEach(arg => {\n      return arg.dispose();\n    });\n    return;\n  }\n  const textTokens = [];\n  for (const arg of args) {\n    const remoteObject = arg.remoteObject();\n    if (remoteObject.objectId) {\n      textTokens.push(arg.toString());\n    } else {\n      textTokens.push((0, util_js_1.valueFromRemoteObject)(remoteObject));\n    }\n  }\n  const stackTraceLocations = [];\n  if (stackTrace) {\n    for (const callFrame of stackTrace.callFrames) {\n      stackTraceLocations.push({\n        url: callFrame.url,\n        lineNumber: callFrame.lineNumber,\n        columnNumber: callFrame.columnNumber\n      });\n    }\n  }\n  const message = new ConsoleMessage_js_1.ConsoleMessage(eventType, textTokens.join(' '), args, stackTraceLocations);\n  this.emit(\"console\" /* PageEmittedEvents.Console */, message);\n}, _CDPPage_onDialog = function _CDPPage_onDialog(event) {\n  let dialogType = null;\n  const validDialogTypes = new Set(['alert', 'confirm', 'prompt', 'beforeunload']);\n  if (validDialogTypes.has(event.type)) {\n    dialogType = event.type;\n  }\n  (0, assert_js_1.assert)(dialogType, 'Unknown javascript dialog type: ' + event.type);\n  const dialog = new Dialog_js_1.Dialog(__classPrivateFieldGet(this, _CDPPage_client, \"f\"), dialogType, event.message, event.defaultPrompt);\n  this.emit(\"dialog\" /* PageEmittedEvents.Dialog */, dialog);\n}, _CDPPage_resetDefaultBackgroundColor =\n/**\n * Resets default white background\n */\nasync function _CDPPage_resetDefaultBackgroundColor() {\n  await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setDefaultBackgroundColorOverride');\n}, _CDPPage_setTransparentBackgroundColor =\n/**\n * Hides default white background\n */\nasync function _CDPPage_setTransparentBackgroundColor() {\n  await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setDefaultBackgroundColorOverride', {\n    color: {\n      r: 0,\n      g: 0,\n      b: 0,\n      a: 0\n    }\n  });\n}, _CDPPage_sessionClosePromise = function _CDPPage_sessionClosePromise() {\n  if (!__classPrivateFieldGet(this, _CDPPage_disconnectPromise, \"f\")) {\n    __classPrivateFieldSet(this, _CDPPage_disconnectPromise, new Promise(fulfill => {\n      return __classPrivateFieldGet(this, _CDPPage_client, \"f\").once(Connection_js_1.CDPSessionEmittedEvents.Disconnected, () => {\n        return fulfill(new Error('Target closed'));\n      });\n    }), \"f\");\n  }\n  return __classPrivateFieldGet(this, _CDPPage_disconnectPromise, \"f\");\n}, _CDPPage_go = async function _CDPPage_go(delta, options) {\n  const history = await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.getNavigationHistory');\n  const entry = history.entries[history.currentIndex + delta];\n  if (!entry) {\n    return null;\n  }\n  const result = await Promise.all([this.waitForNavigation(options), __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.navigateToHistoryEntry', {\n    entryId: entry.id\n  })]);\n  return result[0];\n}, _CDPPage_screenshotTask = async function _CDPPage_screenshotTask(format, options = {}) {\n  var _a, _b;\n  await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Target.activateTarget', {\n    targetId: __classPrivateFieldGet(this, _CDPPage_target, \"f\")._targetId\n  });\n  let clip = options.clip ? processClip(options.clip) : undefined;\n  let captureBeyondViewport = (_a = options.captureBeyondViewport) !== null && _a !== void 0 ? _a : true;\n  const fromSurface = options.fromSurface;\n  if (options.fullPage) {\n    // Overwrite clip for full page.\n    clip = undefined;\n    if (!captureBeyondViewport) {\n      const metrics = await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.getLayoutMetrics');\n      // Fallback to `contentSize` in case of using Firefox.\n      const {\n        width,\n        height\n      } = metrics.cssContentSize || metrics.contentSize;\n      const {\n        isMobile = false,\n        deviceScaleFactor = 1,\n        isLandscape = false\n      } = __classPrivateFieldGet(this, _CDPPage_viewport, \"f\") || {};\n      const screenOrientation = isLandscape ? {\n        angle: 90,\n        type: 'landscapePrimary'\n      } : {\n        angle: 0,\n        type: 'portraitPrimary'\n      };\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setDeviceMetricsOverride', {\n        mobile: isMobile,\n        width,\n        height,\n        deviceScaleFactor,\n        screenOrientation\n      });\n    }\n  } else if (!clip) {\n    captureBeyondViewport = false;\n  }\n  const shouldSetDefaultBackground = options.omitBackground && (format === 'png' || format === 'webp');\n  if (shouldSetDefaultBackground) {\n    await __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_setTransparentBackgroundColor).call(this);\n  }\n  const result = await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.captureScreenshot', {\n    format,\n    quality: options.quality,\n    clip: clip && {\n      ...clip,\n      scale: (_b = clip.scale) !== null && _b !== void 0 ? _b : 1\n    },\n    captureBeyondViewport,\n    fromSurface\n  });\n  if (shouldSetDefaultBackground) {\n    await __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_resetDefaultBackgroundColor).call(this);\n  }\n  if (options.fullPage && __classPrivateFieldGet(this, _CDPPage_viewport, \"f\")) {\n    await this.setViewport(__classPrivateFieldGet(this, _CDPPage_viewport, \"f\"));\n  }\n  if (options.encoding === 'base64') {\n    return result.data;\n  }\n  const buffer = Buffer.from(result.data, 'base64');\n  await this._maybeWriteBufferToFile(options.path, buffer);\n  return buffer;\n  function processClip(clip) {\n    const x = Math.round(clip.x);\n    const y = Math.round(clip.y);\n    const width = Math.round(clip.width + clip.x - x);\n    const height = Math.round(clip.height + clip.y - y);\n    return {\n      x,\n      y,\n      width,\n      height,\n      scale: clip.scale\n    };\n  }\n};\nconst supportedMetrics = new Set(['Timestamp', 'Documents', 'Frames', 'JSEventListeners', 'Nodes', 'LayoutCount', 'RecalcStyleCount', 'LayoutDuration', 'RecalcStyleDuration', 'ScriptDuration', 'TaskDuration', 'JSHeapUsedSize', 'JSHeapTotalSize']);","map":{"version":3,"names":["Page_js_1","require","assert_js_1","DeferredPromise_js_1","ErrorLike_js_1","Accessibility_js_1","Binding_js_1","Connection_js_1","ConsoleMessage_js_1","Coverage_js_1","Dialog_js_1","EmulationManager_js_1","FileChooser_js_1","FrameManager_js_1","Input_js_1","IsolatedWorlds_js_1","NetworkManager_js_1","TimeoutSettings_js_1","Tracing_js_1","util_js_1","WebWorker_js_1","CDPPage","Page","_create","client","target","ignoreHTTPSErrors","defaultViewport","screenshotTaskQueue","page","__classPrivateFieldGet","_CDPPage_instances","_CDPPage_initialize","call","setViewport","err","isErrorLike","isTargetClosedError","debugError","constructor","_CDPPage_closed","set","_CDPPage_client","_CDPPage_target","_CDPPage_keyboard","_CDPPage_mouse","_CDPPage_timeoutSettings","TimeoutSettings","_CDPPage_touchscreen","_CDPPage_accessibility","_CDPPage_frameManager","_CDPPage_emulationManager","_CDPPage_tracing","_CDPPage_bindings","Map","_CDPPage_coverage","_CDPPage_javascriptEnabled","_CDPPage_viewport","_CDPPage_screenshotTaskQueue","_CDPPage_workers","_CDPPage_fileChooserPromises","Set","_CDPPage_disconnectPromise","_CDPPage_userDragInterceptionEnabled","_CDPPage_onDetachedFromTarget","sessionId","_a","_session","id","worker","get","delete","emit","_CDPPage_onAttachedToTarget","createdTarget","onAttachedToTarget","_getTargetInfo","type","session","assert","WebWorker","url","_CDPPage_addConsoleMessage","bind","_CDPPage_handleException","_targetManager","addTargetInterceptor","__classPrivateFieldSet","Keyboard","Mouse","Touchscreen","Accessibility","FrameManager","EmulationManager","Tracing","Coverage","on","FrameManagerEmittedEvents","FrameAttached","event","FrameDetached","FrameNavigated","networkManager","NetworkManagerEmittedEvents","Request","RequestServedFromCache","Response","RequestFailed","RequestFinished","_CDPPage_onConsoleAPI","_CDPPage_onBindingCalled","_CDPPage_onDialog","exception","exceptionDetails","_CDPPage_onTargetCrashed","_CDPPage_emitMetrics","_CDPPage_onLogEntryAdded","_CDPPage_onFileChooser","_isClosedPromise","then","removeTargetInterceptor","off","_client","isDragInterceptionEnabled","isJavaScriptEnabled","waitForFileChooser","options","needsEnable","size","timeout","promise","createDeferredPromise","message","add","enablePromise","send","enabled","Promise","all","result","catch","error","setGeolocation","longitude","latitude","accuracy","Error","browser","browserContext","mainFrame","keyboard","touchscreen","coverage","tracing","accessibility","frames","workers","Array","from","values","setRequestInterception","value","setDragInterception","setOfflineMode","emulateNetworkConditions","networkConditions","setDefaultNavigationTimeout","setDefaultTimeout","getDefaultTimeout","$","selector","$$","evaluateHandle","pageFunction","args","context","executionContext","queryObjects","prototypeHandle","disposed","response","prototypeObjectId","createJSHandle","objects","$eval","$$eval","$x","expression","cookies","urls","originalCookies","length","unsupportedCookieAttributes","filterUnsupportedAttributes","cookie","attr","map","deleteCookie","pageURL","item","Object","assign","startsWith","setCookie","startsWithHTTP","items","name","String","prototype","addScriptTag","addStyleTag","exposeFunction","pptrFunction","has","binding","Binding","default","pageBindingInitString","source","frame","evaluate","authenticate","credentials","setExtraHTTPHeaders","headers","setUserAgent","userAgent","userAgentMetadata","metrics","_CDPPage_buildMetricsObject","content","setContent","html","goto","reload","waitForNavigation","waitForRequest","urlOrPredicate","waitForEvent","request","isString","_CDPPage_sessionClosePromise","waitForResponse","waitForNetworkIdle","idleTime","idlePromise","abortRejectCallback","abortPromise","_","reject","idleTimer","cleanup","clearTimeout","numRequestsInProgress","setTimeout","resolve","eventHandler","listenToEvent","eventPromises","race","r","waitForFrame","predicate","eventRace","goBack","_CDPPage_go","goForward","bringToFront","setJavaScriptEnabled","setBypassCSP","emulateMediaType","undefined","media","emulateCPUThrottling","factor","rate","emulateMediaFeatures","features","isArray","mediaFeature","test","emulateTimezone","timezoneId","includes","emulateIdleState","overrides","isUserActive","isScreenUnlocked","emulateVisionDeficiency","visionDeficiencies","viewport","needsReload","emulateViewport","evaluateOnNewDocument","evaluationString","setCacheEnabled","screenshot","screenshotType","path","filePath","extension","slice","lastIndexOf","toLowerCase","quality","Number","isInteger","clip","fullPage","x","y","width","height","postTask","_CDPPage_screenshotTask","createPDFStream","landscape","displayHeaderFooter","headerTemplate","footerTemplate","printBackground","scale","paperWidth","paperHeight","margin","pageRanges","preferCSSPageSize","omitBackground","_getPDFOptions","_CDPPage_setTransparentBackgroundColor","printCommandPromise","transferMode","marginTop","top","marginBottom","bottom","marginLeft","left","marginRight","right","waitWithTimeout","_CDPPage_resetDefaultBackgroundColor","stream","getReadableFromProtocolStream","pdf","readable","buffer","getReadableAsBuffer","title","close","runBeforeUnload","connection","targetId","_targetId","isClosed","mouse","click","focus","hover","select","tap","text","waitForTimeout","milliseconds","waitForSelector","waitForXPath","xpath","waitForFunction","waitForDevicePrompt","exports","initialize","frameId","handle","worlds","MAIN_WORLD","adoptBackendNode","backendNodeId","fileChooser","FileChooser","clear","level","lineNumber","entry","arg","releaseObject","ConsoleMessage","metric","supportedMetrics","getExceptionMessage","stack","executionContextId","getExecutionContextById","JSON","stringify","stackTrace","payload","parse","seq","isTrivial","executionContextById","run","eventType","listenerCount","forEach","dispose","textTokens","remoteObject","objectId","push","toString","valueFromRemoteObject","stackTraceLocations","callFrame","callFrames","columnNumber","join","dialogType","validDialogTypes","dialog","Dialog","defaultPrompt","color","g","b","a","fulfill","once","CDPSessionEmittedEvents","Disconnected","delta","history","entries","currentIndex","entryId","format","processClip","captureBeyondViewport","fromSurface","cssContentSize","contentSize","isMobile","deviceScaleFactor","isLandscape","screenOrientation","angle","mobile","shouldSetDefaultBackground","_b","encoding","data","Buffer","_maybeWriteBufferToFile","Math","round"],"sources":["../../../../src/common/Page.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}