{"ast":null,"code":"/**\n * Copyright 2017 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar _FrameManager_instances, _FrameManager_page, _FrameManager_networkManager, _FrameManager_timeoutSettings, _FrameManager_contextIdToContext, _FrameManager_isolatedWorlds, _FrameManager_client, _FrameManager_frameNavigatedReceived, _FrameManager_deviceRequestPromptManagerMap, _FrameManager_onLifecycleEvent, _FrameManager_onFrameStartedLoading, _FrameManager_onFrameStoppedLoading, _FrameManager_handleFrameTree, _FrameManager_onFrameAttached, _FrameManager_onFrameNavigated, _FrameManager_createIsolatedWorld, _FrameManager_onFrameNavigatedWithinDocument, _FrameManager_onFrameDetached, _FrameManager_onExecutionContextCreated, _FrameManager_onExecutionContextDestroyed, _FrameManager_onExecutionContextsCleared, _FrameManager_removeFramesRecursively;\nimport { assert } from '../util/assert.js';\nimport { isErrorLike } from '../util/ErrorLike.js';\nimport { isTargetClosedError } from './Connection.js';\nimport { DeviceRequestPromptManager } from './DeviceRequestPrompt.js';\nimport { EventEmitter } from './EventEmitter.js';\nimport { EVALUATION_SCRIPT_URL, ExecutionContext } from './ExecutionContext.js';\nimport { Frame } from './Frame.js';\nimport { FrameTree } from './FrameTree.js';\nimport { MAIN_WORLD, PUPPETEER_WORLD } from './IsolatedWorlds.js';\nimport { NetworkManager } from './NetworkManager.js';\nimport { debugError } from './util.js';\nconst UTILITY_WORLD_NAME = '__puppeteer_utility_world__';\n/**\n * We use symbols to prevent external parties listening to these events.\n * They are internal to Puppeteer.\n *\n * @internal\n */\nexport const FrameManagerEmittedEvents = {\n  FrameAttached: Symbol('FrameManager.FrameAttached'),\n  FrameNavigated: Symbol('FrameManager.FrameNavigated'),\n  FrameDetached: Symbol('FrameManager.FrameDetached'),\n  FrameSwapped: Symbol('FrameManager.FrameSwapped'),\n  LifecycleEvent: Symbol('FrameManager.LifecycleEvent'),\n  FrameNavigatedWithinDocument: Symbol('FrameManager.FrameNavigatedWithinDocument'),\n  ExecutionContextCreated: Symbol('FrameManager.ExecutionContextCreated'),\n  ExecutionContextDestroyed: Symbol('FrameManager.ExecutionContextDestroyed')\n};\n/**\n * A frame manager manages the frames for a given {@link Page | page}.\n *\n * @internal\n */\nexport class FrameManager extends EventEmitter {\n  get timeoutSettings() {\n    return __classPrivateFieldGet(this, _FrameManager_timeoutSettings, \"f\");\n  }\n  get networkManager() {\n    return __classPrivateFieldGet(this, _FrameManager_networkManager, \"f\");\n  }\n  get client() {\n    return __classPrivateFieldGet(this, _FrameManager_client, \"f\");\n  }\n  constructor(client, page, ignoreHTTPSErrors, timeoutSettings) {\n    super();\n    _FrameManager_instances.add(this);\n    _FrameManager_page.set(this, void 0);\n    _FrameManager_networkManager.set(this, void 0);\n    _FrameManager_timeoutSettings.set(this, void 0);\n    _FrameManager_contextIdToContext.set(this, new Map());\n    _FrameManager_isolatedWorlds.set(this, new Set());\n    _FrameManager_client.set(this, void 0);\n    /**\n     * @internal\n     */\n    this._frameTree = new FrameTree();\n    /**\n     * Set of frame IDs stored to indicate if a frame has received a\n     * frameNavigated event so that frame tree responses could be ignored as the\n     * frameNavigated event usually contains the latest information.\n     */\n    _FrameManager_frameNavigatedReceived.set(this, new Set());\n    _FrameManager_deviceRequestPromptManagerMap.set(this, new WeakMap());\n    __classPrivateFieldSet(this, _FrameManager_client, client, \"f\");\n    __classPrivateFieldSet(this, _FrameManager_page, page, \"f\");\n    __classPrivateFieldSet(this, _FrameManager_networkManager, new NetworkManager(client, ignoreHTTPSErrors, this), \"f\");\n    __classPrivateFieldSet(this, _FrameManager_timeoutSettings, timeoutSettings, \"f\");\n    this.setupEventListeners(__classPrivateFieldGet(this, _FrameManager_client, \"f\"));\n  }\n  setupEventListeners(session) {\n    session.on('Page.frameAttached', event => {\n      __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_onFrameAttached).call(this, session, event.frameId, event.parentFrameId);\n    });\n    session.on('Page.frameNavigated', event => {\n      __classPrivateFieldGet(this, _FrameManager_frameNavigatedReceived, \"f\").add(event.frame.id);\n      __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_onFrameNavigated).call(this, event.frame);\n    });\n    session.on('Page.navigatedWithinDocument', event => {\n      __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_onFrameNavigatedWithinDocument).call(this, event.frameId, event.url);\n    });\n    session.on('Page.frameDetached', event => {\n      __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_onFrameDetached).call(this, event.frameId, event.reason);\n    });\n    session.on('Page.frameStartedLoading', event => {\n      __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_onFrameStartedLoading).call(this, event.frameId);\n    });\n    session.on('Page.frameStoppedLoading', event => {\n      __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_onFrameStoppedLoading).call(this, event.frameId);\n    });\n    session.on('Runtime.executionContextCreated', event => {\n      __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_onExecutionContextCreated).call(this, event.context, session);\n    });\n    session.on('Runtime.executionContextDestroyed', event => {\n      __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_onExecutionContextDestroyed).call(this, event.executionContextId, session);\n    });\n    session.on('Runtime.executionContextsCleared', () => {\n      __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_onExecutionContextsCleared).call(this, session);\n    });\n    session.on('Page.lifecycleEvent', event => {\n      __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_onLifecycleEvent).call(this, event);\n    });\n  }\n  async initialize(client = __classPrivateFieldGet(this, _FrameManager_client, \"f\")) {\n    try {\n      const result = await Promise.all([client.send('Page.enable'), client.send('Page.getFrameTree')]);\n      const {\n        frameTree\n      } = result[1];\n      __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_handleFrameTree).call(this, client, frameTree);\n      await Promise.all([client.send('Page.setLifecycleEventsEnabled', {\n        enabled: true\n      }), client.send('Runtime.enable').then(() => {\n        return __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_createIsolatedWorld).call(this, client, UTILITY_WORLD_NAME);\n      }),\n      // TODO: Network manager is not aware of OOP iframes yet.\n      client === __classPrivateFieldGet(this, _FrameManager_client, \"f\") ? __classPrivateFieldGet(this, _FrameManager_networkManager, \"f\").initialize() : Promise.resolve()]);\n    } catch (error) {\n      // The target might have been closed before the initialization finished.\n      if (isErrorLike(error) && isTargetClosedError(error)) {\n        return;\n      }\n      throw error;\n    }\n  }\n  executionContextById(contextId, session = __classPrivateFieldGet(this, _FrameManager_client, \"f\")) {\n    const context = this.getExecutionContextById(contextId, session);\n    assert(context, 'INTERNAL ERROR: missing context with id = ' + contextId);\n    return context;\n  }\n  getExecutionContextById(contextId, session = __classPrivateFieldGet(this, _FrameManager_client, \"f\")) {\n    return __classPrivateFieldGet(this, _FrameManager_contextIdToContext, \"f\").get(`${session.id()}:${contextId}`);\n  }\n  page() {\n    return __classPrivateFieldGet(this, _FrameManager_page, \"f\");\n  }\n  mainFrame() {\n    const mainFrame = this._frameTree.getMainFrame();\n    assert(mainFrame, 'Requesting main frame too early!');\n    return mainFrame;\n  }\n  frames() {\n    return Array.from(this._frameTree.frames());\n  }\n  frame(frameId) {\n    return this._frameTree.getById(frameId) || null;\n  }\n  onAttachedToTarget(target) {\n    if (target._getTargetInfo().type !== 'iframe') {\n      return;\n    }\n    const frame = this.frame(target._getTargetInfo().targetId);\n    if (frame) {\n      frame.updateClient(target._session());\n    }\n    this.setupEventListeners(target._session());\n    this.initialize(target._session());\n  }\n  /**\n   * @internal\n   */\n  _deviceRequestPromptManager(client) {\n    let manager = __classPrivateFieldGet(this, _FrameManager_deviceRequestPromptManagerMap, \"f\").get(client);\n    if (manager === undefined) {\n      manager = new DeviceRequestPromptManager(client, __classPrivateFieldGet(this, _FrameManager_timeoutSettings, \"f\"));\n      __classPrivateFieldGet(this, _FrameManager_deviceRequestPromptManagerMap, \"f\").set(client, manager);\n    }\n    return manager;\n  }\n}\n_FrameManager_page = new WeakMap(), _FrameManager_networkManager = new WeakMap(), _FrameManager_timeoutSettings = new WeakMap(), _FrameManager_contextIdToContext = new WeakMap(), _FrameManager_isolatedWorlds = new WeakMap(), _FrameManager_client = new WeakMap(), _FrameManager_frameNavigatedReceived = new WeakMap(), _FrameManager_deviceRequestPromptManagerMap = new WeakMap(), _FrameManager_instances = new WeakSet(), _FrameManager_onLifecycleEvent = function _FrameManager_onLifecycleEvent(event) {\n  const frame = this.frame(event.frameId);\n  if (!frame) {\n    return;\n  }\n  frame._onLifecycleEvent(event.loaderId, event.name);\n  this.emit(FrameManagerEmittedEvents.LifecycleEvent, frame);\n}, _FrameManager_onFrameStartedLoading = function _FrameManager_onFrameStartedLoading(frameId) {\n  const frame = this.frame(frameId);\n  if (!frame) {\n    return;\n  }\n  frame._onLoadingStarted();\n}, _FrameManager_onFrameStoppedLoading = function _FrameManager_onFrameStoppedLoading(frameId) {\n  const frame = this.frame(frameId);\n  if (!frame) {\n    return;\n  }\n  frame._onLoadingStopped();\n  this.emit(FrameManagerEmittedEvents.LifecycleEvent, frame);\n}, _FrameManager_handleFrameTree = function _FrameManager_handleFrameTree(session, frameTree) {\n  if (frameTree.frame.parentId) {\n    __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_onFrameAttached).call(this, session, frameTree.frame.id, frameTree.frame.parentId);\n  }\n  if (!__classPrivateFieldGet(this, _FrameManager_frameNavigatedReceived, \"f\").has(frameTree.frame.id)) {\n    __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_onFrameNavigated).call(this, frameTree.frame);\n  } else {\n    __classPrivateFieldGet(this, _FrameManager_frameNavigatedReceived, \"f\").delete(frameTree.frame.id);\n  }\n  if (!frameTree.childFrames) {\n    return;\n  }\n  for (const child of frameTree.childFrames) {\n    __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_handleFrameTree).call(this, session, child);\n  }\n}, _FrameManager_onFrameAttached = function _FrameManager_onFrameAttached(session, frameId, parentFrameId) {\n  let frame = this.frame(frameId);\n  if (frame) {\n    if (session && frame.isOOPFrame()) {\n      // If an OOP iframes becomes a normal iframe again\n      // it is first attached to the parent page before\n      // the target is removed.\n      frame.updateClient(session);\n    }\n    return;\n  }\n  frame = new Frame(this, frameId, parentFrameId, session);\n  this._frameTree.addFrame(frame);\n  this.emit(FrameManagerEmittedEvents.FrameAttached, frame);\n}, _FrameManager_onFrameNavigated = async function _FrameManager_onFrameNavigated(framePayload) {\n  const frameId = framePayload.id;\n  const isMainFrame = !framePayload.parentId;\n  let frame = this._frameTree.getById(frameId);\n  // Detach all child frames first.\n  if (frame) {\n    for (const child of frame.childFrames()) {\n      __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_removeFramesRecursively).call(this, child);\n    }\n  }\n  // Update or create main frame.\n  if (isMainFrame) {\n    if (frame) {\n      // Update frame id to retain frame identity on cross-process navigation.\n      this._frameTree.removeFrame(frame);\n      frame._id = frameId;\n    } else {\n      // Initial main frame navigation.\n      frame = new Frame(this, frameId, undefined, __classPrivateFieldGet(this, _FrameManager_client, \"f\"));\n    }\n    this._frameTree.addFrame(frame);\n  }\n  frame = await this._frameTree.waitForFrame(frameId);\n  frame._navigated(framePayload);\n  this.emit(FrameManagerEmittedEvents.FrameNavigated, frame);\n}, _FrameManager_createIsolatedWorld = async function _FrameManager_createIsolatedWorld(session, name) {\n  const key = `${session.id()}:${name}`;\n  if (__classPrivateFieldGet(this, _FrameManager_isolatedWorlds, \"f\").has(key)) {\n    return;\n  }\n  await session.send('Page.addScriptToEvaluateOnNewDocument', {\n    source: `//# sourceURL=${EVALUATION_SCRIPT_URL}`,\n    worldName: name\n  });\n  await Promise.all(this.frames().filter(frame => {\n    return frame._client() === session;\n  }).map(frame => {\n    // Frames might be removed before we send this, so we don't want to\n    // throw an error.\n    return session.send('Page.createIsolatedWorld', {\n      frameId: frame._id,\n      worldName: name,\n      grantUniveralAccess: true\n    }).catch(debugError);\n  }));\n  __classPrivateFieldGet(this, _FrameManager_isolatedWorlds, \"f\").add(key);\n}, _FrameManager_onFrameNavigatedWithinDocument = function _FrameManager_onFrameNavigatedWithinDocument(frameId, url) {\n  const frame = this.frame(frameId);\n  if (!frame) {\n    return;\n  }\n  frame._navigatedWithinDocument(url);\n  this.emit(FrameManagerEmittedEvents.FrameNavigatedWithinDocument, frame);\n  this.emit(FrameManagerEmittedEvents.FrameNavigated, frame);\n}, _FrameManager_onFrameDetached = function _FrameManager_onFrameDetached(frameId, reason) {\n  const frame = this.frame(frameId);\n  if (reason === 'remove') {\n    // Only remove the frame if the reason for the detached event is\n    // an actual removement of the frame.\n    // For frames that become OOP iframes, the reason would be 'swap'.\n    if (frame) {\n      __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_removeFramesRecursively).call(this, frame);\n    }\n  } else if (reason === 'swap') {\n    this.emit(FrameManagerEmittedEvents.FrameSwapped, frame);\n  }\n}, _FrameManager_onExecutionContextCreated = function _FrameManager_onExecutionContextCreated(contextPayload, session) {\n  const auxData = contextPayload.auxData;\n  const frameId = auxData && auxData.frameId;\n  const frame = typeof frameId === 'string' ? this.frame(frameId) : undefined;\n  let world;\n  if (frame) {\n    // Only care about execution contexts created for the current session.\n    if (frame._client() !== session) {\n      return;\n    }\n    if (contextPayload.auxData && contextPayload.auxData['isDefault']) {\n      world = frame.worlds[MAIN_WORLD];\n    } else if (contextPayload.name === UTILITY_WORLD_NAME && !frame.worlds[PUPPETEER_WORLD].hasContext()) {\n      // In case of multiple sessions to the same target, there's a race between\n      // connections so we might end up creating multiple isolated worlds.\n      // We can use either.\n      world = frame.worlds[PUPPETEER_WORLD];\n    }\n  }\n  const context = new ExecutionContext((frame === null || frame === void 0 ? void 0 : frame._client()) || __classPrivateFieldGet(this, _FrameManager_client, \"f\"), contextPayload, world);\n  if (world) {\n    world.setContext(context);\n  }\n  const key = `${session.id()}:${contextPayload.id}`;\n  __classPrivateFieldGet(this, _FrameManager_contextIdToContext, \"f\").set(key, context);\n}, _FrameManager_onExecutionContextDestroyed = function _FrameManager_onExecutionContextDestroyed(executionContextId, session) {\n  const key = `${session.id()}:${executionContextId}`;\n  const context = __classPrivateFieldGet(this, _FrameManager_contextIdToContext, \"f\").get(key);\n  if (!context) {\n    return;\n  }\n  __classPrivateFieldGet(this, _FrameManager_contextIdToContext, \"f\").delete(key);\n  if (context._world) {\n    context._world.clearContext();\n  }\n}, _FrameManager_onExecutionContextsCleared = function _FrameManager_onExecutionContextsCleared(session) {\n  for (const [key, context] of __classPrivateFieldGet(this, _FrameManager_contextIdToContext, \"f\").entries()) {\n    // Make sure to only clear execution contexts that belong\n    // to the current session.\n    if (context._client !== session) {\n      continue;\n    }\n    if (context._world) {\n      context._world.clearContext();\n    }\n    __classPrivateFieldGet(this, _FrameManager_contextIdToContext, \"f\").delete(key);\n  }\n}, _FrameManager_removeFramesRecursively = function _FrameManager_removeFramesRecursively(frame) {\n  for (const child of frame.childFrames()) {\n    __classPrivateFieldGet(this, _FrameManager_instances, \"m\", _FrameManager_removeFramesRecursively).call(this, child);\n  }\n  frame._detach();\n  this._frameTree.removeFrame(frame);\n  this.emit(FrameManagerEmittedEvents.FrameDetached, frame);\n};","map":{"version":3,"names":["assert","isErrorLike","isTargetClosedError","DeviceRequestPromptManager","EventEmitter","EVALUATION_SCRIPT_URL","ExecutionContext","Frame","FrameTree","MAIN_WORLD","PUPPETEER_WORLD","NetworkManager","debugError","UTILITY_WORLD_NAME","FrameManagerEmittedEvents","FrameAttached","Symbol","FrameNavigated","FrameDetached","FrameSwapped","LifecycleEvent","FrameNavigatedWithinDocument","ExecutionContextCreated","ExecutionContextDestroyed","FrameManager","timeoutSettings","__classPrivateFieldGet","_FrameManager_timeoutSettings","networkManager","_FrameManager_networkManager","client","_FrameManager_client","constructor","page","ignoreHTTPSErrors","_FrameManager_page","set","_FrameManager_contextIdToContext","Map","_FrameManager_isolatedWorlds","Set","_frameTree","_FrameManager_frameNavigatedReceived","_FrameManager_deviceRequestPromptManagerMap","WeakMap","__classPrivateFieldSet","setupEventListeners","session","on","event","_FrameManager_instances","_FrameManager_onFrameAttached","call","frameId","parentFrameId","add","frame","id","_FrameManager_onFrameNavigated","_FrameManager_onFrameNavigatedWithinDocument","url","_FrameManager_onFrameDetached","reason","_FrameManager_onFrameStartedLoading","_FrameManager_onFrameStoppedLoading","_FrameManager_onExecutionContextCreated","context","_FrameManager_onExecutionContextDestroyed","executionContextId","_FrameManager_onExecutionContextsCleared","_FrameManager_onLifecycleEvent","initialize","result","Promise","all","send","frameTree","_FrameManager_handleFrameTree","enabled","then","_FrameManager_createIsolatedWorld","resolve","error","executionContextById","contextId","getExecutionContextById","get","mainFrame","getMainFrame","frames","Array","from","getById","onAttachedToTarget","target","_getTargetInfo","type","targetId","updateClient","_session","_deviceRequestPromptManager","manager","undefined","_onLifecycleEvent","loaderId","name","emit","_onLoadingStarted","_onLoadingStopped","parentId","has","delete","childFrames","child","isOOPFrame","addFrame","framePayload","isMainFrame","_FrameManager_removeFramesRecursively","removeFrame","_id","waitForFrame","_navigated","key","source","worldName","filter","_client","map","grantUniveralAccess","catch","_navigatedWithinDocument","contextPayload","auxData","world","worlds","hasContext","setContext","_world","clearContext","entries","_detach"],"sources":["../../../../src/common/FrameManager.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}