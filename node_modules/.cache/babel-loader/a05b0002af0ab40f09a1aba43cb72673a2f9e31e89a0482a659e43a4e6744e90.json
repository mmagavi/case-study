{"ast":null,"code":"var __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _EmulationManager_client, _EmulationManager_emulatingMobile, _EmulationManager_hasTouch;\n/**\n * @internal\n */\nexport class EmulationManager {\n  constructor(client) {\n    _EmulationManager_client.set(this, void 0);\n    _EmulationManager_emulatingMobile.set(this, false);\n    _EmulationManager_hasTouch.set(this, false);\n    __classPrivateFieldSet(this, _EmulationManager_client, client, \"f\");\n  }\n  async emulateViewport(viewport) {\n    var _a;\n    const mobile = viewport.isMobile || false;\n    const width = viewport.width;\n    const height = viewport.height;\n    const deviceScaleFactor = (_a = viewport.deviceScaleFactor) !== null && _a !== void 0 ? _a : 1;\n    const screenOrientation = viewport.isLandscape ? {\n      angle: 90,\n      type: 'landscapePrimary'\n    } : {\n      angle: 0,\n      type: 'portraitPrimary'\n    };\n    const hasTouch = viewport.hasTouch || false;\n    await Promise.all([__classPrivateFieldGet(this, _EmulationManager_client, \"f\").send('Emulation.setDeviceMetricsOverride', {\n      mobile,\n      width,\n      height,\n      deviceScaleFactor,\n      screenOrientation\n    }), __classPrivateFieldGet(this, _EmulationManager_client, \"f\").send('Emulation.setTouchEmulationEnabled', {\n      enabled: hasTouch\n    })]);\n    const reloadNeeded = __classPrivateFieldGet(this, _EmulationManager_emulatingMobile, \"f\") !== mobile || __classPrivateFieldGet(this, _EmulationManager_hasTouch, \"f\") !== hasTouch;\n    __classPrivateFieldSet(this, _EmulationManager_emulatingMobile, mobile, \"f\");\n    __classPrivateFieldSet(this, _EmulationManager_hasTouch, hasTouch, \"f\");\n    return reloadNeeded;\n  }\n}\n_EmulationManager_client = new WeakMap(), _EmulationManager_emulatingMobile = new WeakMap(), _EmulationManager_hasTouch = new WeakMap();","map":{"version":3,"names":["EmulationManager","constructor","client","_EmulationManager_client","set","_EmulationManager_emulatingMobile","_EmulationManager_hasTouch","__classPrivateFieldSet","emulateViewport","viewport","mobile","isMobile","width","height","deviceScaleFactor","_a","screenOrientation","isLandscape","angle","type","hasTouch","Promise","all","__classPrivateFieldGet","send","enabled","reloadNeeded"],"sources":["../../../../src/common/EmulationManager.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;AAoBA;;;AAGA,OAAM,MAAOA,gBAAgB;EAK3BC,YAAYC,MAAkB;IAJ9BC,wBAAA,CAAAC,GAAA;IACAC,iCAAA,CAAAD,GAAA,OAAmB,KAAK;IACxBE,0BAAA,CAAAF,GAAA,OAAY,KAAK;IAGfG,sBAAA,KAAI,EAAAJ,wBAAA,EAAWD,MAAM;EACvB;EAEA,MAAMM,eAAeA,CAACC,QAAkB;;IACtC,MAAMC,MAAM,GAAGD,QAAQ,CAACE,QAAQ,IAAI,KAAK;IACzC,MAAMC,KAAK,GAAGH,QAAQ,CAACG,KAAK;IAC5B,MAAMC,MAAM,GAAGJ,QAAQ,CAACI,MAAM;IAC9B,MAAMC,iBAAiB,GAAG,CAAAC,EAAA,GAAAN,QAAQ,CAACK,iBAAiB,cAAAC,EAAA,cAAAA,EAAA,GAAI,CAAC;IACzD,MAAMC,iBAAiB,GACrBP,QAAQ,CAACQ,WAAW,GAChB;MAACC,KAAK,EAAE,EAAE;MAAEC,IAAI,EAAE;IAAkB,CAAC,GACrC;MAACD,KAAK,EAAE,CAAC;MAAEC,IAAI,EAAE;IAAiB,CAAC;IACzC,MAAMC,QAAQ,GAAGX,QAAQ,CAACW,QAAQ,IAAI,KAAK;IAE3C,MAAMC,OAAO,CAACC,GAAG,CAAC,CAChBC,sBAAA,KAAI,EAAApB,wBAAA,MAAQ,CAACqB,IAAI,CAAC,oCAAoC,EAAE;MACtDd,MAAM;MACNE,KAAK;MACLC,MAAM;MACNC,iBAAiB;MACjBE;KACD,CAAC,EACFO,sBAAA,KAAI,EAAApB,wBAAA,MAAQ,CAACqB,IAAI,CAAC,oCAAoC,EAAE;MACtDC,OAAO,EAAEL;KACV,CAAC,CACH,CAAC;IAEF,MAAMM,YAAY,GAChBH,sBAAA,KAAI,EAAAlB,iCAAA,MAAiB,KAAKK,MAAM,IAAIa,sBAAA,KAAI,EAAAjB,0BAAA,MAAU,KAAKc,QAAQ;IACjEb,sBAAA,KAAI,EAAAF,iCAAA,EAAoBK,MAAM;IAC9BH,sBAAA,KAAI,EAAAD,0BAAA,EAAac,QAAQ;IACzB,OAAOM,YAAY;EACrB"},"metadata":{},"sourceType":"module","externalDependencies":[]}