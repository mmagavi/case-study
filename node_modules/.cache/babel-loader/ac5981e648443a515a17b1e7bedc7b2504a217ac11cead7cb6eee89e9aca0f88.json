{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAsync = exports.isValid = exports.isDirty = exports.isAborted = exports.OK = exports.DIRTY = exports.INVALID = exports.ParseStatus = exports.addIssueToContext = exports.EMPTY_PATH = exports.makeIssue = void 0;\nconst errors_1 = require(\"../errors\");\nconst en_1 = __importDefault(require(\"../locales/en\"));\nconst makeIssue = params => {\n  const {\n    data,\n    path,\n    errorMaps,\n    issueData\n  } = params;\n  const fullPath = [...path, ...(issueData.path || [])];\n  const fullIssue = {\n    ...issueData,\n    path: fullPath\n  };\n  let errorMessage = \"\";\n  const maps = errorMaps.filter(m => !!m).slice().reverse();\n  for (const map of maps) {\n    errorMessage = map(fullIssue, {\n      data,\n      defaultError: errorMessage\n    }).message;\n  }\n  return {\n    ...issueData,\n    path: fullPath,\n    message: issueData.message || errorMessage\n  };\n};\nexports.makeIssue = makeIssue;\nexports.EMPTY_PATH = [];\nfunction addIssueToContext(ctx, issueData) {\n  const issue = (0, exports.makeIssue)({\n    issueData: issueData,\n    data: ctx.data,\n    path: ctx.path,\n    errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, (0, errors_1.getErrorMap)(), en_1.default].filter(x => !!x)\n  });\n  ctx.common.issues.push(issue);\n}\nexports.addIssueToContext = addIssueToContext;\nclass ParseStatus {\n  constructor() {\n    this.value = \"valid\";\n  }\n  dirty() {\n    if (this.value === \"valid\") this.value = \"dirty\";\n  }\n  abort() {\n    if (this.value !== \"aborted\") this.value = \"aborted\";\n  }\n  static mergeArray(status, results) {\n    const arrayValue = [];\n    for (const s of results) {\n      if (s.status === \"aborted\") return exports.INVALID;\n      if (s.status === \"dirty\") status.dirty();\n      arrayValue.push(s.value);\n    }\n    return {\n      status: status.value,\n      value: arrayValue\n    };\n  }\n  static async mergeObjectAsync(status, pairs) {\n    const syncPairs = [];\n    for (const pair of pairs) {\n      syncPairs.push({\n        key: await pair.key,\n        value: await pair.value\n      });\n    }\n    return ParseStatus.mergeObjectSync(status, syncPairs);\n  }\n  static mergeObjectSync(status, pairs) {\n    const finalObject = {};\n    for (const pair of pairs) {\n      const {\n        key,\n        value\n      } = pair;\n      if (key.status === \"aborted\") return exports.INVALID;\n      if (value.status === \"aborted\") return exports.INVALID;\n      if (key.status === \"dirty\") status.dirty();\n      if (value.status === \"dirty\") status.dirty();\n      if (key.value !== \"__proto__\" && (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n        finalObject[key.value] = value.value;\n      }\n    }\n    return {\n      status: status.value,\n      value: finalObject\n    };\n  }\n}\nexports.ParseStatus = ParseStatus;\nexports.INVALID = Object.freeze({\n  status: \"aborted\"\n});\nconst DIRTY = value => ({\n  status: \"dirty\",\n  value\n});\nexports.DIRTY = DIRTY;\nconst OK = value => ({\n  status: \"valid\",\n  value\n});\nexports.OK = OK;\nconst isAborted = x => x.status === \"aborted\";\nexports.isAborted = isAborted;\nconst isDirty = x => x.status === \"dirty\";\nexports.isDirty = isDirty;\nconst isValid = x => x.status === \"valid\";\nexports.isValid = isValid;\nconst isAsync = x => typeof Promise !== \"undefined\" && x instanceof Promise;\nexports.isAsync = isAsync;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","isAsync","isValid","isDirty","isAborted","OK","DIRTY","INVALID","ParseStatus","addIssueToContext","EMPTY_PATH","makeIssue","errors_1","require","en_1","params","data","path","errorMaps","issueData","fullPath","fullIssue","errorMessage","maps","filter","m","slice","reverse","map","defaultError","message","ctx","issue","common","contextualErrorMap","schemaErrorMap","getErrorMap","default","x","issues","push","constructor","dirty","abort","mergeArray","status","results","arrayValue","s","mergeObjectAsync","pairs","syncPairs","pair","key","mergeObjectSync","finalObject","alwaysSet","freeze","Promise"],"sources":["/Users/mayamagavi/instalily/case-study/node_modules/zod/lib/helpers/parseUtil.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isAsync = exports.isValid = exports.isDirty = exports.isAborted = exports.OK = exports.DIRTY = exports.INVALID = exports.ParseStatus = exports.addIssueToContext = exports.EMPTY_PATH = exports.makeIssue = void 0;\nconst errors_1 = require(\"../errors\");\nconst en_1 = __importDefault(require(\"../locales/en\"));\nconst makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: issueData.message || errorMessage,\n    };\n};\nexports.makeIssue = makeIssue;\nexports.EMPTY_PATH = [];\nfunction addIssueToContext(ctx, issueData) {\n    const issue = (0, exports.makeIssue)({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap,\n            ctx.schemaErrorMap,\n            (0, errors_1.getErrorMap)(),\n            en_1.default,\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nexports.addIssueToContext = addIssueToContext;\nclass ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return exports.INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            syncPairs.push({\n                key: await pair.key,\n                value: await pair.value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return exports.INVALID;\n            if (value.status === \"aborted\")\n                return exports.INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" &&\n                (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nexports.ParseStatus = ParseStatus;\nexports.INVALID = Object.freeze({\n    status: \"aborted\",\n});\nconst DIRTY = (value) => ({ status: \"dirty\", value });\nexports.DIRTY = DIRTY;\nconst OK = (value) => ({ status: \"valid\", value });\nexports.OK = OK;\nconst isAborted = (x) => x.status === \"aborted\";\nexports.isAborted = isAborted;\nconst isDirty = (x) => x.status === \"dirty\";\nexports.isDirty = isDirty;\nconst isValid = (x) => x.status === \"valid\";\nexports.isValid = isValid;\nconst isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\nexports.isAsync = isAsync;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}