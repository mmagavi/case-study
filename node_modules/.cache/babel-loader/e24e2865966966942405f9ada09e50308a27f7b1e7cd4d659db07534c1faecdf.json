{"ast":null,"code":"\"use strict\";\n\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar _HTTPRequest_instances, _HTTPRequest_client, _HTTPRequest_isNavigationRequest, _HTTPRequest_allowInterception, _HTTPRequest_interceptionHandled, _HTTPRequest_url, _HTTPRequest_resourceType, _HTTPRequest_method, _HTTPRequest_postData, _HTTPRequest_headers, _HTTPRequest_frame, _HTTPRequest_continueRequestOverrides, _HTTPRequest_responseForRequest, _HTTPRequest_abortErrorReason, _HTTPRequest_interceptResolutionState, _HTTPRequest_interceptHandlers, _HTTPRequest_initiator, _HTTPRequest_continue, _HTTPRequest_respond, _HTTPRequest_abort;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HTTPRequest = void 0;\nconst HTTPRequest_js_1 = require(\"../api/HTTPRequest.js\");\nconst assert_js_1 = require(\"../util/assert.js\");\nconst util_js_1 = require(\"./util.js\");\n/**\n * @internal\n */\nclass HTTPRequest extends HTTPRequest_js_1.HTTPRequest {\n  get client() {\n    return __classPrivateFieldGet(this, _HTTPRequest_client, \"f\");\n  }\n  constructor(client, frame, interceptionId, allowInterception, data, redirectChain) {\n    super();\n    _HTTPRequest_instances.add(this);\n    this._failureText = null;\n    this._response = null;\n    this._fromMemoryCache = false;\n    _HTTPRequest_client.set(this, void 0);\n    _HTTPRequest_isNavigationRequest.set(this, void 0);\n    _HTTPRequest_allowInterception.set(this, void 0);\n    _HTTPRequest_interceptionHandled.set(this, false);\n    _HTTPRequest_url.set(this, void 0);\n    _HTTPRequest_resourceType.set(this, void 0);\n    _HTTPRequest_method.set(this, void 0);\n    _HTTPRequest_postData.set(this, void 0);\n    _HTTPRequest_headers.set(this, {});\n    _HTTPRequest_frame.set(this, void 0);\n    _HTTPRequest_continueRequestOverrides.set(this, void 0);\n    _HTTPRequest_responseForRequest.set(this, null);\n    _HTTPRequest_abortErrorReason.set(this, null);\n    _HTTPRequest_interceptResolutionState.set(this, {\n      action: HTTPRequest_js_1.InterceptResolutionAction.None\n    });\n    _HTTPRequest_interceptHandlers.set(this, void 0);\n    _HTTPRequest_initiator.set(this, void 0);\n    __classPrivateFieldSet(this, _HTTPRequest_client, client, \"f\");\n    this._requestId = data.requestId;\n    __classPrivateFieldSet(this, _HTTPRequest_isNavigationRequest, data.requestId === data.loaderId && data.type === 'Document', \"f\");\n    this._interceptionId = interceptionId;\n    __classPrivateFieldSet(this, _HTTPRequest_allowInterception, allowInterception, \"f\");\n    __classPrivateFieldSet(this, _HTTPRequest_url, data.request.url, \"f\");\n    __classPrivateFieldSet(this, _HTTPRequest_resourceType, (data.type || 'other').toLowerCase(), \"f\");\n    __classPrivateFieldSet(this, _HTTPRequest_method, data.request.method, \"f\");\n    __classPrivateFieldSet(this, _HTTPRequest_postData, data.request.postData, \"f\");\n    __classPrivateFieldSet(this, _HTTPRequest_frame, frame, \"f\");\n    this._redirectChain = redirectChain;\n    __classPrivateFieldSet(this, _HTTPRequest_continueRequestOverrides, {}, \"f\");\n    __classPrivateFieldSet(this, _HTTPRequest_interceptHandlers, [], \"f\");\n    __classPrivateFieldSet(this, _HTTPRequest_initiator, data.initiator, \"f\");\n    for (const [key, value] of Object.entries(data.request.headers)) {\n      __classPrivateFieldGet(this, _HTTPRequest_headers, \"f\")[key.toLowerCase()] = value;\n    }\n  }\n  url() {\n    return __classPrivateFieldGet(this, _HTTPRequest_url, \"f\");\n  }\n  continueRequestOverrides() {\n    (0, assert_js_1.assert)(__classPrivateFieldGet(this, _HTTPRequest_allowInterception, \"f\"), 'Request Interception is not enabled!');\n    return __classPrivateFieldGet(this, _HTTPRequest_continueRequestOverrides, \"f\");\n  }\n  responseForRequest() {\n    (0, assert_js_1.assert)(__classPrivateFieldGet(this, _HTTPRequest_allowInterception, \"f\"), 'Request Interception is not enabled!');\n    return __classPrivateFieldGet(this, _HTTPRequest_responseForRequest, \"f\");\n  }\n  abortErrorReason() {\n    (0, assert_js_1.assert)(__classPrivateFieldGet(this, _HTTPRequest_allowInterception, \"f\"), 'Request Interception is not enabled!');\n    return __classPrivateFieldGet(this, _HTTPRequest_abortErrorReason, \"f\");\n  }\n  interceptResolutionState() {\n    if (!__classPrivateFieldGet(this, _HTTPRequest_allowInterception, \"f\")) {\n      return {\n        action: HTTPRequest_js_1.InterceptResolutionAction.Disabled\n      };\n    }\n    if (__classPrivateFieldGet(this, _HTTPRequest_interceptionHandled, \"f\")) {\n      return {\n        action: HTTPRequest_js_1.InterceptResolutionAction.AlreadyHandled\n      };\n    }\n    return {\n      ...__classPrivateFieldGet(this, _HTTPRequest_interceptResolutionState, \"f\")\n    };\n  }\n  isInterceptResolutionHandled() {\n    return __classPrivateFieldGet(this, _HTTPRequest_interceptionHandled, \"f\");\n  }\n  enqueueInterceptAction(pendingHandler) {\n    __classPrivateFieldGet(this, _HTTPRequest_interceptHandlers, \"f\").push(pendingHandler);\n  }\n  async finalizeInterceptions() {\n    await __classPrivateFieldGet(this, _HTTPRequest_interceptHandlers, \"f\").reduce((promiseChain, interceptAction) => {\n      return promiseChain.then(interceptAction);\n    }, Promise.resolve());\n    const {\n      action\n    } = this.interceptResolutionState();\n    switch (action) {\n      case 'abort':\n        return __classPrivateFieldGet(this, _HTTPRequest_instances, \"m\", _HTTPRequest_abort).call(this, __classPrivateFieldGet(this, _HTTPRequest_abortErrorReason, \"f\"));\n      case 'respond':\n        if (__classPrivateFieldGet(this, _HTTPRequest_responseForRequest, \"f\") === null) {\n          throw new Error('Response is missing for the interception');\n        }\n        return __classPrivateFieldGet(this, _HTTPRequest_instances, \"m\", _HTTPRequest_respond).call(this, __classPrivateFieldGet(this, _HTTPRequest_responseForRequest, \"f\"));\n      case 'continue':\n        return __classPrivateFieldGet(this, _HTTPRequest_instances, \"m\", _HTTPRequest_continue).call(this, __classPrivateFieldGet(this, _HTTPRequest_continueRequestOverrides, \"f\"));\n    }\n  }\n  resourceType() {\n    return __classPrivateFieldGet(this, _HTTPRequest_resourceType, \"f\");\n  }\n  method() {\n    return __classPrivateFieldGet(this, _HTTPRequest_method, \"f\");\n  }\n  postData() {\n    return __classPrivateFieldGet(this, _HTTPRequest_postData, \"f\");\n  }\n  headers() {\n    return __classPrivateFieldGet(this, _HTTPRequest_headers, \"f\");\n  }\n  response() {\n    return this._response;\n  }\n  frame() {\n    return __classPrivateFieldGet(this, _HTTPRequest_frame, \"f\");\n  }\n  isNavigationRequest() {\n    return __classPrivateFieldGet(this, _HTTPRequest_isNavigationRequest, \"f\");\n  }\n  initiator() {\n    return __classPrivateFieldGet(this, _HTTPRequest_initiator, \"f\");\n  }\n  redirectChain() {\n    return this._redirectChain.slice();\n  }\n  failure() {\n    if (!this._failureText) {\n      return null;\n    }\n    return {\n      errorText: this._failureText\n    };\n  }\n  async continue(overrides = {}, priority) {\n    // Request interception is not supported for data: urls.\n    if (__classPrivateFieldGet(this, _HTTPRequest_url, \"f\").startsWith('data:')) {\n      return;\n    }\n    (0, assert_js_1.assert)(__classPrivateFieldGet(this, _HTTPRequest_allowInterception, \"f\"), 'Request Interception is not enabled!');\n    (0, assert_js_1.assert)(!__classPrivateFieldGet(this, _HTTPRequest_interceptionHandled, \"f\"), 'Request is already handled!');\n    if (priority === undefined) {\n      return __classPrivateFieldGet(this, _HTTPRequest_instances, \"m\", _HTTPRequest_continue).call(this, overrides);\n    }\n    __classPrivateFieldSet(this, _HTTPRequest_continueRequestOverrides, overrides, \"f\");\n    if (__classPrivateFieldGet(this, _HTTPRequest_interceptResolutionState, \"f\").priority === undefined || priority > __classPrivateFieldGet(this, _HTTPRequest_interceptResolutionState, \"f\").priority) {\n      __classPrivateFieldSet(this, _HTTPRequest_interceptResolutionState, {\n        action: HTTPRequest_js_1.InterceptResolutionAction.Continue,\n        priority\n      }, \"f\");\n      return;\n    }\n    if (priority === __classPrivateFieldGet(this, _HTTPRequest_interceptResolutionState, \"f\").priority) {\n      if (__classPrivateFieldGet(this, _HTTPRequest_interceptResolutionState, \"f\").action === 'abort' || __classPrivateFieldGet(this, _HTTPRequest_interceptResolutionState, \"f\").action === 'respond') {\n        return;\n      }\n      __classPrivateFieldGet(this, _HTTPRequest_interceptResolutionState, \"f\").action = HTTPRequest_js_1.InterceptResolutionAction.Continue;\n    }\n    return;\n  }\n  async respond(response, priority) {\n    // Mocking responses for dataURL requests is not currently supported.\n    if (__classPrivateFieldGet(this, _HTTPRequest_url, \"f\").startsWith('data:')) {\n      return;\n    }\n    (0, assert_js_1.assert)(__classPrivateFieldGet(this, _HTTPRequest_allowInterception, \"f\"), 'Request Interception is not enabled!');\n    (0, assert_js_1.assert)(!__classPrivateFieldGet(this, _HTTPRequest_interceptionHandled, \"f\"), 'Request is already handled!');\n    if (priority === undefined) {\n      return __classPrivateFieldGet(this, _HTTPRequest_instances, \"m\", _HTTPRequest_respond).call(this, response);\n    }\n    __classPrivateFieldSet(this, _HTTPRequest_responseForRequest, response, \"f\");\n    if (__classPrivateFieldGet(this, _HTTPRequest_interceptResolutionState, \"f\").priority === undefined || priority > __classPrivateFieldGet(this, _HTTPRequest_interceptResolutionState, \"f\").priority) {\n      __classPrivateFieldSet(this, _HTTPRequest_interceptResolutionState, {\n        action: HTTPRequest_js_1.InterceptResolutionAction.Respond,\n        priority\n      }, \"f\");\n      return;\n    }\n    if (priority === __classPrivateFieldGet(this, _HTTPRequest_interceptResolutionState, \"f\").priority) {\n      if (__classPrivateFieldGet(this, _HTTPRequest_interceptResolutionState, \"f\").action === 'abort') {\n        return;\n      }\n      __classPrivateFieldGet(this, _HTTPRequest_interceptResolutionState, \"f\").action = HTTPRequest_js_1.InterceptResolutionAction.Respond;\n    }\n  }\n  async abort(errorCode = 'failed', priority) {\n    // Request interception is not supported for data: urls.\n    if (__classPrivateFieldGet(this, _HTTPRequest_url, \"f\").startsWith('data:')) {\n      return;\n    }\n    const errorReason = errorReasons[errorCode];\n    (0, assert_js_1.assert)(errorReason, 'Unknown error code: ' + errorCode);\n    (0, assert_js_1.assert)(__classPrivateFieldGet(this, _HTTPRequest_allowInterception, \"f\"), 'Request Interception is not enabled!');\n    (0, assert_js_1.assert)(!__classPrivateFieldGet(this, _HTTPRequest_interceptionHandled, \"f\"), 'Request is already handled!');\n    if (priority === undefined) {\n      return __classPrivateFieldGet(this, _HTTPRequest_instances, \"m\", _HTTPRequest_abort).call(this, errorReason);\n    }\n    __classPrivateFieldSet(this, _HTTPRequest_abortErrorReason, errorReason, \"f\");\n    if (__classPrivateFieldGet(this, _HTTPRequest_interceptResolutionState, \"f\").priority === undefined || priority >= __classPrivateFieldGet(this, _HTTPRequest_interceptResolutionState, \"f\").priority) {\n      __classPrivateFieldSet(this, _HTTPRequest_interceptResolutionState, {\n        action: HTTPRequest_js_1.InterceptResolutionAction.Abort,\n        priority\n      }, \"f\");\n      return;\n    }\n  }\n}\nexports.HTTPRequest = HTTPRequest;\n_HTTPRequest_client = new WeakMap(), _HTTPRequest_isNavigationRequest = new WeakMap(), _HTTPRequest_allowInterception = new WeakMap(), _HTTPRequest_interceptionHandled = new WeakMap(), _HTTPRequest_url = new WeakMap(), _HTTPRequest_resourceType = new WeakMap(), _HTTPRequest_method = new WeakMap(), _HTTPRequest_postData = new WeakMap(), _HTTPRequest_headers = new WeakMap(), _HTTPRequest_frame = new WeakMap(), _HTTPRequest_continueRequestOverrides = new WeakMap(), _HTTPRequest_responseForRequest = new WeakMap(), _HTTPRequest_abortErrorReason = new WeakMap(), _HTTPRequest_interceptResolutionState = new WeakMap(), _HTTPRequest_interceptHandlers = new WeakMap(), _HTTPRequest_initiator = new WeakMap(), _HTTPRequest_instances = new WeakSet(), _HTTPRequest_continue = async function _HTTPRequest_continue(overrides = {}) {\n  const {\n    url,\n    method,\n    postData,\n    headers\n  } = overrides;\n  __classPrivateFieldSet(this, _HTTPRequest_interceptionHandled, true, \"f\");\n  const postDataBinaryBase64 = postData ? Buffer.from(postData).toString('base64') : undefined;\n  if (this._interceptionId === undefined) {\n    throw new Error('HTTPRequest is missing _interceptionId needed for Fetch.continueRequest');\n  }\n  await __classPrivateFieldGet(this, _HTTPRequest_client, \"f\").send('Fetch.continueRequest', {\n    requestId: this._interceptionId,\n    url,\n    method,\n    postData: postDataBinaryBase64,\n    headers: headers ? (0, HTTPRequest_js_1.headersArray)(headers) : undefined\n  }).catch(error => {\n    __classPrivateFieldSet(this, _HTTPRequest_interceptionHandled, false, \"f\");\n    return handleError(error);\n  });\n}, _HTTPRequest_respond = async function _HTTPRequest_respond(response) {\n  __classPrivateFieldSet(this, _HTTPRequest_interceptionHandled, true, \"f\");\n  const responseBody = response.body && (0, util_js_1.isString)(response.body) ? Buffer.from(response.body) : response.body || null;\n  const responseHeaders = {};\n  if (response.headers) {\n    for (const header of Object.keys(response.headers)) {\n      const value = response.headers[header];\n      responseHeaders[header.toLowerCase()] = Array.isArray(value) ? value.map(item => {\n        return String(item);\n      }) : String(value);\n    }\n  }\n  if (response.contentType) {\n    responseHeaders['content-type'] = response.contentType;\n  }\n  if (responseBody && !('content-length' in responseHeaders)) {\n    responseHeaders['content-length'] = String(Buffer.byteLength(responseBody));\n  }\n  const status = response.status || 200;\n  if (this._interceptionId === undefined) {\n    throw new Error('HTTPRequest is missing _interceptionId needed for Fetch.fulfillRequest');\n  }\n  await __classPrivateFieldGet(this, _HTTPRequest_client, \"f\").send('Fetch.fulfillRequest', {\n    requestId: this._interceptionId,\n    responseCode: status,\n    responsePhrase: HTTPRequest_js_1.STATUS_TEXTS[status],\n    responseHeaders: (0, HTTPRequest_js_1.headersArray)(responseHeaders),\n    body: responseBody ? responseBody.toString('base64') : undefined\n  }).catch(error => {\n    __classPrivateFieldSet(this, _HTTPRequest_interceptionHandled, false, \"f\");\n    return handleError(error);\n  });\n}, _HTTPRequest_abort = async function _HTTPRequest_abort(errorReason) {\n  __classPrivateFieldSet(this, _HTTPRequest_interceptionHandled, true, \"f\");\n  if (this._interceptionId === undefined) {\n    throw new Error('HTTPRequest is missing _interceptionId needed for Fetch.failRequest');\n  }\n  await __classPrivateFieldGet(this, _HTTPRequest_client, \"f\").send('Fetch.failRequest', {\n    requestId: this._interceptionId,\n    errorReason: errorReason || 'Failed'\n  }).catch(handleError);\n};\nconst errorReasons = {\n  aborted: 'Aborted',\n  accessdenied: 'AccessDenied',\n  addressunreachable: 'AddressUnreachable',\n  blockedbyclient: 'BlockedByClient',\n  blockedbyresponse: 'BlockedByResponse',\n  connectionaborted: 'ConnectionAborted',\n  connectionclosed: 'ConnectionClosed',\n  connectionfailed: 'ConnectionFailed',\n  connectionrefused: 'ConnectionRefused',\n  connectionreset: 'ConnectionReset',\n  internetdisconnected: 'InternetDisconnected',\n  namenotresolved: 'NameNotResolved',\n  timedout: 'TimedOut',\n  failed: 'Failed'\n};\nasync function handleError(error) {\n  if (['Invalid header'].includes(error.originalMessage)) {\n    throw error;\n  }\n  // In certain cases, protocol will return error if the request was\n  // already canceled or the page was closed. We should tolerate these\n  // errors.\n  (0, util_js_1.debugError)(error);\n}","map":{"version":3,"names":["HTTPRequest_js_1","require","assert_js_1","util_js_1","HTTPRequest","client","__classPrivateFieldGet","_HTTPRequest_client","constructor","frame","interceptionId","allowInterception","data","redirectChain","_failureText","_response","_fromMemoryCache","set","_HTTPRequest_isNavigationRequest","_HTTPRequest_allowInterception","_HTTPRequest_interceptionHandled","_HTTPRequest_url","_HTTPRequest_resourceType","_HTTPRequest_method","_HTTPRequest_postData","_HTTPRequest_headers","_HTTPRequest_frame","_HTTPRequest_continueRequestOverrides","_HTTPRequest_responseForRequest","_HTTPRequest_abortErrorReason","_HTTPRequest_interceptResolutionState","action","InterceptResolutionAction","None","_HTTPRequest_interceptHandlers","_HTTPRequest_initiator","__classPrivateFieldSet","_requestId","requestId","loaderId","type","_interceptionId","request","url","toLowerCase","method","postData","_redirectChain","initiator","key","value","Object","entries","headers","continueRequestOverrides","assert","responseForRequest","abortErrorReason","interceptResolutionState","Disabled","AlreadyHandled","isInterceptResolutionHandled","enqueueInterceptAction","pendingHandler","push","finalizeInterceptions","reduce","promiseChain","interceptAction","then","Promise","resolve","_HTTPRequest_instances","_HTTPRequest_abort","call","Error","_HTTPRequest_respond","_HTTPRequest_continue","resourceType","response","isNavigationRequest","slice","failure","errorText","continue","overrides","priority","startsWith","undefined","Continue","respond","Respond","abort","errorCode","errorReason","errorReasons","Abort","exports","postDataBinaryBase64","Buffer","from","toString","send","headersArray","catch","error","handleError","responseBody","body","isString","responseHeaders","header","keys","Array","isArray","map","item","String","contentType","byteLength","status","responseCode","responsePhrase","STATUS_TEXTS","aborted","accessdenied","addressunreachable","blockedbyclient","blockedbyresponse","connectionaborted","connectionclosed","connectionfailed","connectionrefused","connectionreset","internetdisconnected","namenotresolved","timedout","failed","includes","originalMessage","debugError"],"sources":["../../../../src/common/HTTPRequest.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}